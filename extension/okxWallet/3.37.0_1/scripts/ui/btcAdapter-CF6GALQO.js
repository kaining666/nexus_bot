import{a as R,b as w,c as T}from"./chunk-OQNSJOVF.js";import"./chunk-CYAJOFXD.js";import"./chunk-VLSECKR6.js";import"./chunk-UTXGPAP2.js";import{b as f}from"./chunk-NIXASQZU.js";import{e as y}from"./chunk-E5Q7T5U3.js";import"./chunk-GOUDWO5Q.js";import"./chunk-LL4DXB6L.js";import"./chunk-NC7RXVWZ.js";import"./chunk-DM24NLHH.js";import"./chunk-PTVNLPKV.js";import"./chunk-JFKXAMRK.js";import"./chunk-V2SICOMY.js";import{a as h,u}from"./chunk-Z6Y7MSRE.js";import"./chunk-FVQK2MNN.js";import"./chunk-5Z5B37ND.js";import"./chunk-QWQGBYOY.js";import"./chunk-BUAMOL6H.js";import"./chunk-PLHFXPVU.js";import{M as n,pa as K}from"./chunk-5BQQ5BTM.js";import"./chunk-4IQZG47E.js";import"./chunk-4USCG7JU.js";import"./chunk-X62Q7VCJ.js";import"./chunk-X7RY3AWM.js";import"./chunk-WQYVBC56.js";import"./chunk-GMY3CGN4.js";import"./chunk-JSF2EI74.js";import"./chunk-IUPPNX62.js";import"./chunk-V4AYO3RB.js";import"./chunk-56JXL4SQ.js";import"./chunk-METSMHFB.js";import{f as H,m as p,o as l}from"./chunk-CS4SUKWE.js";p();l();var W=H(R());K();var b=W.default.HardwareWebSdk,a=class extends T{async signTransaction(e,r){if(!n(r.memo)&&!n(r.memoPos))throw Error(u);return new Promise((E,t)=>{(async()=>{let{address:i}=r,{onekeyInfo:s}=e,c;try{c=await this.initOneKey({onekeyInfo:s,onUiCancel(){t(new Error(h))}})}catch(o){return t(this.handleErrors(o))}let g=f(i,e?.accountsMap||e?.addressType),{path:d}=g,k=r.inputs.map(o=>({...o,address:i,nonWitnessUtxo:o.rawTransaction,derivationPath:d})),{oneKeyBuildBtcTx:B}=await y(),M=B({...r,inputs:k,derivationPath:d}),{success:S,payload:m}=await b.btcSignTransaction(s?.connectId,c,M);if(w.closeModal(),S){let{serializedTx:o}=m;return E(o)}return t(this.handleErrors(m))})()})}},C=new a;export{C as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=btcAdapter-CF6GALQO.js.map
