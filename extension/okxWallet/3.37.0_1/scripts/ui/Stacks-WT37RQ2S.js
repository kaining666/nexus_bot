import{a as W}from"./chunk-YL5N5NXF.js";import{b as _}from"./chunk-LX2IZ663.js";import{a as M,b as P}from"./chunk-2WNLXZON.js";import"./chunk-N4O3LLAF.js";import"./chunk-UKD6YBBS.js";import"./chunk-UGUUG6ML.js";import"./chunk-HZ2WJBGI.js";import"./chunk-LVIROCAQ.js";import"./chunk-YPLQ6VWF.js";import"./chunk-PZK64BR5.js";import"./chunk-HL2M5U7N.js";import"./chunk-U5Z4GNFS.js";import{a as B}from"./chunk-BKZ6VPJ3.js";import{a as b}from"./chunk-33GCBYOX.js";import"./chunk-TW325B3E.js";import{a as D}from"./chunk-ULXBFEFQ.js";import"./chunk-AWJSICVW.js";import"./chunk-QNX3UOA4.js";import"./chunk-5J5HPJFS.js";import"./chunk-4O6B2TSW.js";import"./chunk-EUSYZW2R.js";import"./chunk-AFBCVKXE.js";import"./chunk-MQKFVWSP.js";import"./chunk-VLSOWDRD.js";import"./chunk-3UTQU6PS.js";import"./chunk-ZQTA27XU.js";import"./chunk-YIQCYGP3.js";import"./chunk-I4BRG34M.js";import"./chunk-HN3RS7KM.js";import"./chunk-4JNVSGED.js";import"./chunk-AR6XF3U7.js";import"./chunk-V5XRXBAE.js";import"./chunk-ULBHEX2Q.js";import"./chunk-LYNGOC3B.js";import"./chunk-XS7NMQVU.js";import"./chunk-L7FDIAMD.js";import"./chunk-TXEBE5YY.js";import{d as R}from"./chunk-77F6B6US.js";import"./chunk-LLMO6UHT.js";import"./chunk-TGE2FOSE.js";import"./chunk-RCQMEJEP.js";import"./chunk-WTBIP24L.js";import"./chunk-HWYDZOOB.js";import"./chunk-SKYCSHSI.js";import"./chunk-TCSX4HQQ.js";import"./chunk-6H3Y45OD.js";import"./chunk-KALOGAGR.js";import{a as E}from"./chunk-E5Q7T5U3.js";import"./chunk-GOUDWO5Q.js";import"./chunk-3UYPUTX6.js";import"./chunk-DXILVGXO.js";import"./chunk-U65S63W6.js";import"./chunk-DKAHQZW7.js";import"./chunk-OB7EIG6I.js";import"./chunk-CBYWE4ZS.js";import"./chunk-YNP5EQNA.js";import"./chunk-TGTCJHHS.js";import"./chunk-PQ3PMTLX.js";import"./chunk-AHWM6USP.js";import"./chunk-DFIMOBBJ.js";import"./chunk-RD5QD7MH.js";import"./chunk-6IJDRLPZ.js";import"./chunk-PO23PKFU.js";import"./chunk-HVTJXLNW.js";import"./chunk-ESXBSF3B.js";import"./chunk-PNY3TA7V.js";import"./chunk-4AVGLJGA.js";import"./chunk-TQ3GWPOH.js";import"./chunk-PYZXP3W4.js";import"./chunk-QDNQKTGP.js";import"./chunk-3QF6VHEM.js";import"./chunk-BDM2VHZE.js";import"./chunk-64SQYTOJ.js";import"./chunk-FYP53U2P.js";import"./chunk-Z4OLA6VU.js";import"./chunk-5O3SURTC.js";import"./chunk-NMBDO6HS.js";import"./chunk-55MCSU6E.js";import"./chunk-OPNT5XFL.js";import"./chunk-MDLQ46WE.js";import"./chunk-FQEN5BEF.js";import"./chunk-KRXFQR7K.js";import"./chunk-CE23KTLV.js";import"./chunk-ZL32ASCM.js";import"./chunk-3TUBCZ6Z.js";import"./chunk-5RWJB7PM.js";import"./chunk-UOK5DCVS.js";import"./chunk-O4AMPUEN.js";import"./chunk-AACZ2HW4.js";import"./chunk-M2U4YLEL.js";import"./chunk-ZBGU2467.js";import{o as Q}from"./chunk-DD3BDKUM.js";import"./chunk-TYUTKD3A.js";import"./chunk-ENPA2E7U.js";import{L as C,M as T,v as x}from"./chunk-WOHVJ5VI.js";import"./chunk-HXEPH4TB.js";import"./chunk-F7IOPQEO.js";import"./chunk-QBSBGD35.js";import"./chunk-GFKCYZVW.js";import"./chunk-CHLBHCPL.js";import"./chunk-NC7RXVWZ.js";import"./chunk-DM24NLHH.js";import"./chunk-PTVNLPKV.js";import"./chunk-JFKXAMRK.js";import"./chunk-V2SICOMY.js";import"./chunk-Z6Y7MSRE.js";import"./chunk-FVQK2MNN.js";import"./chunk-5Z5B37ND.js";import{Ha as S,Ob as A,Xa as N,fc as K}from"./chunk-QWQGBYOY.js";import"./chunk-BUAMOL6H.js";import"./chunk-PLHFXPVU.js";import{K as w,pa as J}from"./chunk-5BQQ5BTM.js";import"./chunk-4IQZG47E.js";import"./chunk-AJ3QZWYK.js";import"./chunk-4USCG7JU.js";import"./chunk-4LMFCZAJ.js";import"./chunk-GBWBODBO.js";import"./chunk-X62Q7VCJ.js";import"./chunk-X7RY3AWM.js";import{a as y}from"./chunk-WQYVBC56.js";import"./chunk-MX777P4Z.js";import"./chunk-GW6IXZ75.js";import"./chunk-LSOIOGAP.js";import"./chunk-54ZU3WOZ.js";import"./chunk-E4IUBLG2.js";import"./chunk-GMY3CGN4.js";import"./chunk-J52BXABX.js";import"./chunk-FBMAZNAP.js";import"./chunk-H3AZE3V6.js";import"./chunk-7PMBWAQJ.js";import"./chunk-Z37CYTXG.js";import"./chunk-ADNFNM5R.js";import"./chunk-ZP73ZDSP.js";import{a as V}from"./chunk-K3AFY7TW.js";import"./chunk-W3TSI3ZZ.js";import"./chunk-JSF2EI74.js";import"./chunk-56JXL4SQ.js";import"./chunk-METSMHFB.js";import{f as d,m as n,o as i}from"./chunk-CS4SUKWE.js";n();i();var h=d(y());n();i();var q=d(y());N();n();i();J();K();n();i();var I=d(V());N();var G=(t={})=>{let{params:e={}}=t,{transaction:o={}}=e;return o},Y=async(t={})=>{let{contractAddress:e,contractName:o,functionName:a,functionArgs:r}=t,{getRawTransaction:s}=await E(),c={data:{type:x.CONTRACT_CALL,data:{contract:e,contractName:o,functionName:a,functionArgs:r}}};return await s(I.Currency.Stx,c)},Z=async(t={})=>{let{recipient:e,amount:o,memo:a}=t,{getRawTransaction:r}=await E(),s={data:{type:x.TRANSFER,data:{to:e,amount:o,memo:a}}};return await r(I.Currency.Stx,s)},$=async(t={})=>t.txType===T.CONTRACT_CALL?Y(t):t.txType===T.STX_TRANSFER?Z(t):"",O=async({unapproved:t={},baseCoin:e={},fromAddress:o,value:a})=>{let r=G(t),s=await $(r);return(await b({coinId:e?.coinId||S,fromAddress:o,value:a,inputData:s}))?.gasLimit||"0"};n();i();var L=d(Q()),k=d(y());var v=({unapproved:t={},baseCoin:e})=>{let[o,a]=(0,k.useState)(),[r,{setTrue:s,setFalse:c}]=(0,L.useBoolean)(!0),[m,{setTrue:p,setFalse:f}]=(0,L.useBoolean)(!1),u=B(t);return(0,k.useEffect)(()=>{(async()=>{try{s(),f();let l=await O({unapproved:t,baseCoin:e,fromAddress:u?.address,value:"0"});a(l),c()}catch{p(),c()}})()},[t?.id]),{isLoadingFee:r,isGasError:m,fee:o}},U=v;var tt=({unapproved:t,baseCoin:e,coinId:o})=>{let{fee:a,isLoadingFee:r,isGasError:s}=U({unapproved:t,baseCoin:e}),c=D(o,t.walletId)||{},{coinAmountInt:m}=c,p=G(t),f=p?.txType===T.STX_TRANSFER?p?.amount:"0",u=w(m)||A(m,a),F=w(m)||A(m,f);return{loading:r,networkFee:a,estimateFailed:s,networkFeeProps:{coinId:o,loading:r,networkFee:a,estimateFailed:s},isSufficientGas:u,isSufficientBalance:F,coinWithBalance:c}},X=tt;var et=({unapproved:t})=>{let e=R(S)||{},o=e.coinId||S,a=t?.params?.transaction?.contractAddress,{networkFee:r,estimateFailed:s,networkFeeProps:c,isSufficientGas:m,loading:p,isSufficientBalance:f,coinWithBalance:u}=X({coinId:o,unapproved:t,baseCoin:e}),F=M({baseCoin:e,unapproved:t,estimateFailed:s,isSufficientGas:m,isSufficientBalance:f,coinWithBalance:u}),{buttonGroup:l}=_({coinId:o,unapproved:t,feeLoading:p,estimateFailed:s,isSufficientGas:m,isSufficientBalance:f,extParams:{fee:r},coinWithBalance:u});return q.default.createElement(P,{unapproved:t,tipMessage:F,buttonGroup:l,networkFee:c,contractAddress:a})},j=et;n();i();var z=d(y());var H=({unapproved:t})=>{let e=t.params?.message;return z.default.createElement(W,{message:e,unapproved:t})};var Ut=({unapproved:t})=>{switch(t.method){case C.SIGN_TRANSACTION:return h.default.createElement(j,{unapproved:t});case C.SIGN_MESSAGE:return h.default.createElement(H,{unapproved:t});default:return""}};export{Ut as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Stacks-WT37RQ2S.js.map
