import{b as Ht}from"./chunk-M7Z2JA27.js";import{a as ke,b as ve}from"./chunk-W3JDAHBG.js";import{a as wt}from"./chunk-ZOGSUKPS.js";import{a as Ft,b as Ae,c as Ie}from"./chunk-FKW72FYX.js";import{a as Lt}from"./chunk-ML63NSSD.js";import"./chunk-GO26N5U6.js";import"./chunk-QYZYQAEQ.js";import"./chunk-KLQAI43H.js";import"./chunk-DB5G3ZDJ.js";import{a as Ee}from"./chunk-UHA6636E.js";import{a as Ce}from"./chunk-BSHKIPE2.js";import{a as bt,b as ut}from"./chunk-XYC5UEKJ.js";import"./chunk-XS7NMQVU.js";import"./chunk-L7FDIAMD.js";import{a as ge,c as Te,h as ye}from"./chunk-E5Q7T5U3.js";import"./chunk-GOUDWO5Q.js";import{h as pe,i as _e,p as ue,q as de}from"./chunk-AELRSSRC.js";import"./chunk-GONU6BTN.js";import"./chunk-M34DCQLH.js";import"./chunk-GALOTWRD.js";import"./chunk-PO23PKFU.js";import"./chunk-HVTJXLNW.js";import"./chunk-PNY3TA7V.js";import"./chunk-55MCSU6E.js";import"./chunk-QYD6MSU2.js";import{b as Ne,c as xe}from"./chunk-EBMLJPB4.js";import"./chunk-3P7TZ2WN.js";import"./chunk-4N645KXJ.js";import"./chunk-JHXIEBD6.js";import"./chunk-OHGMAD4C.js";import"./chunk-OPNT5XFL.js";import"./chunk-MDLQ46WE.js";import{a as St}from"./chunk-FQEN5BEF.js";import{e as ne,f as ie}from"./chunk-KRXFQR7K.js";import{a as Q}from"./chunk-CE23KTLV.js";import"./chunk-ZL32ASCM.js";import"./chunk-3TUBCZ6Z.js";import"./chunk-5RWJB7PM.js";import{F as me,Qa as ce,Y as It,a as At,eb as kt}from"./chunk-UOK5DCVS.js";import{b as Y}from"./chunk-O4AMPUEN.js";import{q as P}from"./chunk-AACZ2HW4.js";import"./chunk-M2U4YLEL.js";import"./chunk-ZBGU2467.js";import{o as we}from"./chunk-DD3BDKUM.js";import{B as ae,Nb as fe,bc as vt}from"./chunk-TYUTKD3A.js";import{ia as le}from"./chunk-WOHVJ5VI.js";import"./chunk-HXEPH4TB.js";import"./chunk-F7IOPQEO.js";import"./chunk-GFKCYZVW.js";import"./chunk-CHLBHCPL.js";import{ta as xt,ua as Et,ya as oe}from"./chunk-NC7RXVWZ.js";import{d as Ct,f as se}from"./chunk-DM24NLHH.js";import"./chunk-JFKXAMRK.js";import"./chunk-Z6Y7MSRE.js";import{a as he,c as W}from"./chunk-FVQK2MNN.js";import"./chunk-5Z5B37ND.js";import{Oc as re,V as Wt,Xa as Ye,Ya as Rt,gc as te,hc as Ze,ma as Qt,u as Jt,vb as Ue,y as He,yc as tt}from"./chunk-QWQGBYOY.js";import"./chunk-BUAMOL6H.js";import{H as nt,N as _t,p as Nt,q as zt,x as $t}from"./chunk-PLHFXPVU.js";import{pa as Kt,r as pt}from"./chunk-5BQQ5BTM.js";import{N as st,w as s,x as jt}from"./chunk-4IQZG47E.js";import{b as Xt}from"./chunk-4USCG7JU.js";import"./chunk-4LMFCZAJ.js";import"./chunk-GBWBODBO.js";import{H as Ge,T as ee,ca as C}from"./chunk-X62Q7VCJ.js";import{a as Ve}from"./chunk-X7RY3AWM.js";import{a as R}from"./chunk-WQYVBC56.js";import"./chunk-MX777P4Z.js";import"./chunk-GW6IXZ75.js";import"./chunk-LSOIOGAP.js";import"./chunk-54ZU3WOZ.js";import"./chunk-E4IUBLG2.js";import"./chunk-GMY3CGN4.js";import"./chunk-7PMBWAQJ.js";import"./chunk-Z37CYTXG.js";import"./chunk-W3TSI3ZZ.js";import"./chunk-JSF2EI74.js";import"./chunk-56JXL4SQ.js";import"./chunk-METSMHFB.js";import{f as k,m as l,o as m}from"./chunk-CS4SUKWE.js";l();m();var G=k(R()),Fe=k(vt());st();l();m();var y=k(R()),Pt=k(vt()),ft=k(we());Kt();st();oe();Ye();se();l();m();var O=k(R()),Se=k(vt()),it=k(Ve());st();Ue();l();m();function Mt({visible:t,setVisible:o,confirm:f,chooseNetworkList:w,supportChainsList:_,setChooseNetWorkList:x}){let h=(0,Se.useSelector)(fe),[d,b]=(0,O.useState)(!1),z=(0,O.useMemo)(()=>_.map(n=>n.chainName),[_]),F=(0,O.useMemo)(()=>_.filter(n=>!(bt.includes(n.chainName)||ut.includes(n.chainName))).map(n=>({...h.find(g=>g.baseChain===n.chainName),imported:n.imported})),[h,_]),L=(0,O.useMemo)(()=>Ie.map(({chain:n,...I})=>z.includes(n)?{chain:n,config:I,allChains:h.filter(g=>n===Rt&&ut.includes(g.baseChain)?!0:g.baseChain===n),imported:_.find(g=>g.chainName===n)?.imported}:null),[h,_]);return t?O.default.createElement("div",{className:"chains-choose-network-modal__wrap"},O.default.createElement(St,{title:s("wallet_transfer_multichain_coin_maintitle_select_network"),className:"chains-choose-network-modal__navigator",onBack:()=>o(),closeable:!1}),O.default.createElement("div",{className:"chains-choose-network-modal__chains-list__wrap"},O.default.createElement("div",{className:"chains-choose-network-modal__chains-list__container"},L.map(n=>{if(!n)return null;let{chain:I,imported:g,allChains:N,config:D}=n,{titleKey:Z,remindKey:$,networkCountKey:J,importPrivateKeyConfig:{supportNetworksKey:E}}=D;return O.default.createElement(Ft,{imported:g,selected:w.includes(I),handleClick:()=>{g||x(I)}},O.default.createElement(Ae,{titleKey:Z,remindKey:$,networkCountKey:J,descriptionKey:E,chainsList:N,imported:g}))}),F.map(n=>O.default.createElement(Ft,{key:n.chainName,selected:w.includes(n.baseChain),handleClick:()=>{n.imported||x(n.baseChain)},...n}))),O.default.createElement("div",{className:"chains-choose-network-modal__confirm-button-wrap"},O.default.createElement(C,{block:!0,loading:d,category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,onClick:async n=>{try{b(!0),n.preventDefault(),n.stopPropagation(),await f(),b(!1)}catch{b(!1)}},className:"chains-choose-network-modal__confirm-button"},s("wallet_set_password_btn_confirm"))))):null}Mt.propTypes={visible:it.default.bool.isRequired,setVisible:it.default.func.isRequired,confirm:it.default.func.isRequired,chooseNetworkList:it.default.array.isRequired,supportChainsList:it.default.array.isRequired,setChooseNetWorkList:it.default.func.isRequired};l();m();var dt={root:"_root_o5han_1",title:"_title_o5han_4",input:"_input_o5han_7",link:"_link_o5han_12",bulk:"_bulk_o5han_18"};var be=t=>{let{history:o}=t,f=(0,Pt.useDispatch)(),w=(0,Pt.useSelector)(ae),[_,x]=(0,y.useState)(!1),[h,d]=(0,y.useState)(""),[b,z]=(0,y.useState)(""),[F,L]=(0,y.useState)(!1),[n,I]=(0,y.useState)(!1),[g,N]=(0,y.useState)(!1),[D,Z]=(0,y.useState)([]),[$,J]=(0,y.useState)([]);(0,ft.useMount)(()=>{x(o.location.pathname===It)}),(0,ft.useUnmount)(()=>{L(!1),d(""),z(""),I(!1)});let E=p=>{N(!!p)},et=p=>{Z([p])},q=async p=>{let{keyringName:i="",walletName:H=""}=p||{},K=`${i}-${H}`;o.push({pathname:`${me}/key`,state:{walletName:K,anim:"1",next:At}})},ot=(0,ft.useMemoizedFn)(async()=>{let p="",i=!0;h&&!await ve(h,w)&&(i=!1,p=s("wallet_import_errortip_wrong_private_key")),L(!1),Z([]),z(p),I(i)},[h]),j=pt(ot,200),rt=async p=>{L(!0),d(p),z(""),I(!1),await j()},u=async p=>{if(p?.preventDefault(),!n)return;wt();let H=(await ke(h,w))?.filter(M=>M!==Qt),K=[];for(let M=0,mt=H.length;M<mt;M++){let a=H[M],T=[a];a===Wt&&(T=[...T,...ut]),K.push(Ct().checkPrivateKeyIsImported({baseChains:T,wallets:[{privateKey:h}]}))}let ht=(await Promise.allSettled(K)).map((M,mt)=>{let{value:a}=M;return a===void 0&&(a=!0),{chainName:H[mt],imported:a}}),gt=ht.filter(({imported:M})=>!M).map(({chainName:M})=>M),Tt=bt.find(M=>gt.includes(M))||gt[0];Tt?(Z([Tt]),J(ht),E(!0)):nt.error({title:s("wallet_extension_imported_toast_wallet_existes"),top:0}),wt()},r=async()=>{if(!n)return;let p;try{let i=D;i.includes(Wt)&&(i=[...i,...ut]),_?p=await f(ie(i,h)):(await f(_e(h)),await f(ue(i))),_?q(p):o.push(`${kt}?from=${Lt.KEY}`)}catch(i){i.message===xt&&nt.error(s("wallet_home_toast_network_error")),i.message===Et&&(nt.error(s("extension_wallet_addwallet_toast_wallets_added",{amount:1e3})),z(s("extension_wallet_addwallet_toast_wallets_added",{amount:1e3})))}},c=s("wallet_import_subtitle_import_private_key_desc");return y.default.createElement(y.default.Fragment,null,y.default.createElement(W.Container,{className:dt.root},y.default.createElement("form",{onSubmit:u},y.default.createElement(P.Text,{size:P.SIZE.sm,className:dt.title},s("wallet_addwallet_btn_import_private_key")),y.default.createElement(xe,{elementName:"ipk"},y.default.createElement(zt.TextArea,{inputClassName:dt.input,value:h,type:"password",size:zt.SIZE.lg,placeholder:c,onChange:p=>rt(p.target.value),errorType:"blur",error:b,autoComplete:"off",cleanable:!0})),!g&&y.default.createElement(Q.FooterActions,{usePortal:!0,direction:he.vertical},y.default.createElement(P.Text,{size:P.SIZE.sm,align:P.ALIGN.center,className:dt.link,onClick:()=>{Ce(ce)}},s("wallet_extension_private_key_maintitle_bulk_import"),y.default.createElement(ee,{className:`okds-arrow-pointer-right-md ${dt.bulk}`})),y.default.createElement(C,{htmlType:"submit",category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,disabled:!n,loading:F,onClick:u,block:!0},s("wallet_set_password_btn_confirm"))))),y.default.createElement(Mt,{visible:g,chooseNetworkList:D,supportChainsList:$,setVisible:E,setChooseNetWorkList:et,confirm:r}))};l();m();var A=k(R()),We=k(vt()),Bt=k(we()),ze=k(Ee());Kt();st();se();re();oe();l();m();Xt();re();l();m();Xt();function Yt(t,o){switch(t){case 501:return`m/44'/501'/${o}'/0'`;case 637:return`m/44'/637'/${o}'/0'/0'`;case 118:return`m/44'/118'/0'/0/${o}`;case 1001:case 1011:case 2892:return`m/44'/60'/0'/0/${o}`;case 1003:return`m/44'/394'/0'/0/${o}`;case 1006:return`m/44'/459'/0'/0/${o}`;case 1008:return`m/44'/529'/0'/0/${o}`;case 1010:return`m/44'/330'/0'/0/${o}`;case 784:return`m/44'/784'/${o}'/0'/0'`;case 804:return`m/44'/60'/0'/0/${o}`;case 9004:return`m/44'/9004'/0'/0/${o}`;case 1815:return`m/1852'/1815'/${o}'/0/0`;case 1237:return`m/44'/1237'/${o}'/0/0`;case 111111:return`m/44'/111111'/0'/0/${o}`;case 397:return`m/44'/397'/${o}'`;case 607:return`m/44'/607'/${o}'`;default:return`m/44'/${t}'/0'/0/${o}`}}async function Le(t=""){try{let{wallet:o}=await Te(607);return await o.validateMnemonicOfTon({mnemonicArray:t.split(" "),password:""})}catch(o){return console.log("error:",o),!1}}async function Me(t){let o=[{type:tt.HD_KEYRING,address:"",hdPath:Yt(607,0)},{type:tt.TON_HD_KEYRING,address:"",hdPath:""}],{getNewAddress:f,getDerivedPrivateKey:w}=await ge();return Promise.all(o.map(async _=>{let x=await w(607,{mnemonic:t,hdPath:_.hdPath}),{address:h}=await f(607,{privateKey:x});return _.address=h,_}))}l();m();var e=k(R()),Zt=k(Ee()),Vt=k(Ge());Kt();st();Ze();l();m();var Ot=k(R());function Ut(t,o=[]){let f=(0,Ot.useRef)(!1);(0,Ot.useEffect)(()=>{if(f.current)return t();f.current=!0},o)}He();l();m();var Pe={topWrapper:"_topWrapper_c7vcn_1"};l();m();var je=({onWordsChange:t,onAnyWordError:o,onEditStateChange:f,onClear:w,error:_})=>{let[x,h]=(0,e.useState)("12"),[d,b]=(0,e.useState)(new Array(12).fill(null)),[z,F]=(0,e.useState)(!1),[L,n]=(0,e.useState)(-1),[I,g]=(0,e.useState)(!1),N=(0,e.useRef)(new Array(12).fill(null)),D=({text:r})=>e.default.createElement("div",{className:"mnemonic-words-menu-item"},r),Z=(0,e.useMemo)(()=>[{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_12word",{length:"12"})}),value:"12"},{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_15word",{length:"15"})}),value:"15"},{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_18word",{length:"18"})}),value:"18"},{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_21word",{length:"21"})}),value:"21"},{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_24word",{length:"24"})}),value:"24"}],[s]),[$,J]=(0,e.useState)(!1),E=(0,e.useMemo)(()=>pt(r=>{J(r)},300),[]),et=(0,e.useCallback)(({value:r})=>{h(r),F(!0);let c=parseInt(r,10);if(c===d.length)return;let p=[...d],i=p.length;i<c?(p.length=c,N.current.length=c,p.fill(null,i,c),N.current.fill(!1,i,c)):(N.current.length=c,p.length=c),b(p),t&&t(p)},[d,t]),q=(0,e.useCallback)((r,c)=>{b(p=>{p[c]=r;let i=[...p];return t&&t(i),i}),g(!1)},[t]),ot=(0,e.useCallback)((r,c)=>{let i=(r.trim().toLowerCase().match(/\w+/gu)?.join(" ")||"").split(/\s/u);if(i.length===0)return;if(z===!1&&d.every(K=>!K)&&[12,15,18,21,24].includes(i.length)){h(`${i.length}`),b(i),t&&t(i);return}let H=[...d];for(let K=0;K<i.length;K++){let lt=c+K;if(lt>=H.length)break;H[lt]=i[K]}b(H),t&&t(H)},[t,d]),j=(0,e.useCallback)((r,c)=>{N.current[c]||(N.current[c]={}),N.current[c].error=r;let p=N.current.filter(i=>i&&i.error===!0).length;o&&o(p>0)},[o]),rt=(0,e.useCallback)((r,c)=>{N.current[c]||(N.current[c]={}),N.current[c].focus=r;let p=N.current.filter(i=>i&&i.focus===!0).length>0;E(p),n(c)},[E]);Ut(()=>{f&&f($)},[$,f]);let u=()=>{let r=d.map(()=>null);b(r),t&&t(r),w&&w(),g(!0)};return e.default.createElement("div",{className:"mnemonic-words-inputs"},e.default.createElement(W.FlexBox,{className:Pe.topWrapper,align:W.ALIGN.center,justify:"space-between"},e.default.createElement("span",{className:"mnemonic-words-inputs__length-type__text"},jt("wallet_extension_import_seed_phrase_dropdown_text_ihave2",{words:e.default.createElement($t,{align:$t.DIRECTION.right,isPcShowCheck:!0,options:Z,onChange:et,value:x,optionContClassName:"mnemonic-words-inputs__length-type-dropdown-list",optionItemClassName:"mnemonic-words-inputs__length-type-item"})})),d.some(r=>r)&&e.default.createElement("div",{className:"mnemonic-words-inputs__clear"},e.default.createElement("div",{className:"mnemonic-words-inputs__clear-button",onClick:u},e.default.createElement("span",null,s("wallet_extension_import_seed_phrase_button_clear"))))),e.default.createElement("div",{className:"mnemonic-words-inputs__container"},d.map((r,c)=>e.default.createElement(Xe,{key:c,word:d[c]?d[c]:"",onWordChange:q,onFocusChange:rt,onPaste:ot,onValidate:j,index:c,focusIndex:L,cleared:I}))),_&&e.default.createElement("span",{className:"mnemonic-words-inputs__error"},_))},Xe=({index:t,onWordChange:o,onPaste:f,word:w,onValidate:_,onFocusChange:x,focusIndex:h,cleared:d})=>{let[b,z]=(0,e.useState)(!1),[F,L]=(0,e.useState)(!0),[n,I]=(0,e.useState)(!1),[g,N]=(0,e.useState)(""),D=(0,e.useCallback)(u=>{let r=u.target.value;if(te()===Jt&&r.includes(" ")){f(r,t),L(!0),x(!1,t);return}let c=(r||"").trim().toLowerCase();o(c,t),N(c)},[t,o]),Z=(0,e.useCallback)(u=>{u.preventDefault(),u.stopPropagation();let r=u.clipboardData.getData("text");f(r,t),L(!0),x(!1,t)},[t,f]),$=(0,e.useCallback)(u=>{let r=Boolean(u)&&!Zt.wordlists.english.includes(u);z(r),_&&_(r,t)},[t,_]),J=(0,e.useCallback)(()=>{L(!0),x(!1,t)},[t,x]);Ut(()=>{F&&$(w)},[w,F,$]);let E=(0,e.useMemo)(()=>{if(!g)return[];let u=g.replace(/[^a-zA-Z]/gm,"");if(!u)return[];let r=Zt.wordlists.english.filter(c=>new RegExp(`^${u}`).test(c));return r.length===1&&r[0]===u?[]:(r.length>6&&(r.length=6),r)},[g]),et=(0,e.useCallback)(()=>{L(!1),I(!0),x(!0,t),_&&_(!1,t)},[t,x,_]),q=u=>{D({target:{value:u}}),I(!1),z(!1),_&&_(!1,t),L(!0),x(!1,t),setTimeout(()=>{let r=document.querySelectorAll(".mnemonic-words-inputs__container__input");r[t+1]&&r[t+1].focus()})},ot=(0,e.useCallback)(({key:u})=>{u==="Enter"&&E.length===1&&q(E[0])},[E]),j=(0,e.useRef)(null),rt=F&&w&&!b;return(0,e.useEffect)(()=>{function u(r){j.current&&!j.current.contains(r.target)&&I(!1)}return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[j]),(0,e.useEffect)(()=>{h!==t&&(I(!1),$(w))},[h,t]),(0,e.useEffect)(()=>{$(w)},[d]),e.default.createElement("div",{className:"mnemonic-words-inputs__container__input-item"},e.default.createElement("div",{className:"mnemonic-words-inputs__container__input-index"},t+1),e.default.createElement(Nt,{className:"mnemonic-words-inputs__container__input-popup",arrowSize:Nt.SIZE.lg,arrowStyle:{backgroundColor:"var(--okd-color-background-base-primary)"},gutter:"8px",disabled:E.length===0,content:e.default.createElement("div",{ref:j,className:(0,Vt.default)("mnemonic-words-inputs__container__candidate",{"columns-3":E.length>=3,"columns-2":E.length===2,"columns-1":E.length===1})},E.map(u=>e.default.createElement("div",{key:u,className:"mnemonic-words-inputs__container__candidate-word",onClick:()=>q(u)},u))),show:n,placement:Nt.DIRECTION.bottom,smartMode:!0,modifiers:[{name:"preventOverflow",options:{padding:16}}]},e.default.createElement(Ne,{elementName:"m"},e.default.createElement("input",{className:(0,Vt.default)("mnemonic-words-inputs__container__input",{"mnemonic-words-inputs__container__input-error":b}),value:w,onBlur:J,onFocus:et,onPaste:Z,onChange:D,onKeyDown:ot,autoComplete:"off",type:rt?"password":"text"}))))},Oe=je;l();m();var U=k(R());st();l();m();var X={root:"_root_1337z_1",fixBox:"_fixBox_1337z_4",closeBox:"_closeBox_1337z_8",textBox:"_textBox_1337z_13",iconBox:"_iconBox_1337z_21",icon:"_icon_1337z_21",tonTitle:"_tonTitle_1337z_30",text:"_text_1337z_13"};var Je=({onClose:t=()=>{},onConfirm:o=()=>{}})=>U.default.createElement(W.Portal,{className:X.root},U.default.createElement(Q.FooterActions,{className:X.fixBox},U.default.createElement("div",{className:X.closeBox},U.default.createElement(Y,{size:Y.SIZE.xl,icon:"okx-wallet-plugin-close",className:X.icon,onClick:t})),U.default.createElement(W.Box,{className:X.textBox},U.default.createElement("div",{className:X.iconBox},U.default.createElement(Y,{size:Y.SIZE.xxl,icon:"okx-wallet-plugin-warning-circle",className:X.icon})),U.default.createElement(P.Text,{warp:!0,strong:!0,size:P.SIZE.lg,className:X.tonTitle},s("wallet_extension_import_title_being_imported")),U.default.createElement(P.Text,{warp:!0,strong:!0,size:P.SIZE.sm,className:X.text},s("wallet_extension_import_subtitle_being_imported")),U.default.createElement(Q.FooterActions,null,U.default.createElement(C,{htmlType:"submit",category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,onClick:o,block:!0},s("commonall_text_btn_ok_passive")))))),Be=Je;l();m();var v=k(R());st();l();m();var B={root:"_root_1rxd9_1",fixBox:"_fixBox_1rxd9_4",closeBox:"_closeBox_1rxd9_9",textBox:"_textBox_1rxd9_14",iconBox:"_iconBox_1rxd9_23",icon:"_icon_1rxd9_23",tonTitle:"_tonTitle_1rxd9_32",text:"_text_1rxd9_14",switchItem:"_switchItem_1rxd9_43",address:"_address_1rxd9_50",addressTitle:"_addressTitle_1rxd9_55",tonAddress:"_tonAddress_1rxd9_59"};var Qe=({item:t})=>{let{address:o,tonTitle:f,onClick:w,iconLink:_}=t;return v.default.createElement("div",{className:B.switchItem,onClick:()=>{w&&w(t)}},v.default.createElement("div",{className:B.iconTps},v.default.createElement(Y,{size:Y.SIZE.lg,icon:_,className:B.icon})),v.default.createElement("div",{className:B.address},v.default.createElement("span",{className:B.addressTitle},f),v.default.createElement("div",null,s("wallet_extension_ton_select_ton_address")),v.default.createElement("span",{className:B.tonAddress},o)),v.default.createElement("div",{className:B.iconArrow},v.default.createElement(Y,{size:Y.SIZE.lg,icon:"okx-wallet-plugin-right",className:B.icon})))},Re=({onClose:t=()=>{},addressList:o=[]})=>v.default.createElement(W.Portal,{className:B.root},v.default.createElement(Q.FooterActions,{className:B.fixBox},v.default.createElement("div",{className:B.closeBox},v.default.createElement(Y,{size:Y.SIZE.xl,icon:"okx-wallet-plugin-close",className:B.icon,onClick:t})),v.default.createElement(W.Box,{className:B.textBox},v.default.createElement(P.Text,{warp:!0,strong:!0,size:P.SIZE.lg,className:B.tonTitle},s("wallet_extension_ton_title_input_address")),v.default.createElement(P.Text,{warp:!0,strong:!0,size:P.SIZE.sm,className:B.text},s("wallet_extension_ton_desc_input_address")),o.map(f=>v.default.createElement(Qe,{item:f}))))),De=Re;l();m();var Ke={root:"_root_v31gt_1"};var $e=t=>{let{history:o}=t,f=(0,We.useDispatch)(),[w,_]=(0,A.useState)(!1),[x,h]=(0,A.useState)(!1),[d,b]=(0,A.useState)([]),[z,F]=(0,A.useState)(!1),[L,n]=(0,A.useState)(""),[I,g]=(0,A.useState)(!1),[N,D]=(0,A.useState)(!1),[Z,$]=(0,A.useState)(!1),[J,E]=(0,A.useState)(!1),[et,q]=(0,A.useState)(!1),[ot,j]=(0,A.useState)([]);(0,Bt.useMount)(()=>{h(o.location.pathname===It)});let rt=()=>{o.replace(At)},u=(0,Bt.useMemoizedFn)(async()=>{let a=d.length>0,T=!1;for(let ct=0;ct<d.length;ct++){let qt=d[ct];(!qt||!ze.wordlists.english.includes(qt))&&(a=!1)}let V=!1,yt=!1;if(a){let{ethers:ct}=await ye();a=ct.utils.isValidMnemonic(d.join(" ")),d.length===le.TWENTYFOUR&&(V=await Le(d.join(" ")),a&&!V||!a&&V?a=!0:a&&V?(yt=!0,a=!0):a=!1),N||(T=!a)}return N&&(T=!1),F(a),$(T),{isValid:a,isTonMnemonic:V,isMnemonicNormalAndTon:yt}},[d,N]),r=pt(u,500),c=async a=>{b(a),n(""),await r()},p=a=>{g(a)},i=a=>{D(a),u()},H=()=>I?s("wallet_import_wallet_errortip_seed_phase_wrong"):Z?s("wallet_import_wallet_errortip_seed_phase_order_wrong"):L||"",K=async({isTonMnemonic:a})=>{let T=d.join(" ");try{x?await f(ne(T,!0,{isTonMnemonic:a})):await f(pe(T)),x?rt():o.push(`${kt}?from=${Lt.SEED}`)}catch(V){V.message===xt&&nt.error(s("wallet_home_toast_network_error")),V.message===Et&&(nt.error(s("extension_wallet_addwallet_toast_wallets_added",{amount:1e3})),n(s("extension_wallet_addwallet_toast_wallets_added",{amount:1e3}))),V.message===Ht&&n(s("wallet_import_private_key_errortip_wallet_repeat",{amount:1e3}))}finally{_(!1)}wt()},lt=async()=>{await f(de(!0)),await K({isTonMnemonic:!0}),E(!1)},ht=async a=>{a.type===tt.HD_KEYRING&&await K({isTonMnemonic:!1}),a.type===tt.TON_HD_KEYRING&&await lt(),q(!1)},gt=async()=>{let a=await Me(d.join(" "));j(a.map(T=>(T.type===tt.HD_KEYRING&&(T.tonTitle=s("wallet_extension_ton_select_multi_chain_wallet"),T.iconLink="okx-wallet-plugin-ton-seedphrase",T.onClick=ht),T.type===tt.TON_HD_KEYRING&&(T.tonTitle=s("wallet_extension_ton_select_ton_wallet"),T.iconLink="okx-wallet-plugin-ton-wallet",T.onClick=ht),T))),q(!0)},Tt=async()=>{try{if(x)await Ct().checkMnemonicIsImported({mnemonic:d.join(" ")});else return!0}catch(a){return a.message===Ht&&n(s("wallet_import_private_key_errortip_wallet_repeat",{amount:1e3})),_(!1),!1}return!0},M=async a=>{a?.preventDefault(),_(!0);let{isValid:T,isTonMnemonic:V,isMnemonicNormalAndTon:yt}=await u();if(!(!T||!await Tt())){if(yt){gt();return}if(V){E(!0);return}await K({isTonMnemonic:!1})}},mt=H();return A.default.createElement(W.Box,{className:Ke.root},A.default.createElement("form",{onSubmit:M},A.default.createElement(Oe,{onEditStateChange:i,onAnyWordError:p,onWordsChange:c,onClear:()=>{F(!1)},error:mt}),A.default.createElement(Q.FooterActions,{usePortal:!0},A.default.createElement(C,{htmlType:"submit",category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,disabled:!z||mt,loading:w,onClick:M,block:!0},s("wallet_set_password_btn_confirm"))),J&&A.default.createElement(Be,{onClose:()=>{E(!1),_(!1)},onConfirm:lt}),et&&A.default.createElement(De,{onClose:()=>{q(!1),_(!1)},addressList:ot})))};l();m();var Dt={connect:"_connect_1lqck_1",tabs:"_tabs_1lqck_4","tabs-header":"_tabs-header_1lqck_7",tabsHeader:"_tabs-header_1lqck_7"};var Gt=class extends G.PureComponent{render(){return this.props?G.default.createElement(W.Container,null,G.default.createElement(St,{title:s("wallet_extension_import_card_title_import"),closeable:!1,stickyStyle:{zIndex:10}}),G.default.createElement("div",{className:Dt.connect},G.default.createElement(_t.Segmented,{average:!0,destroyOnHide:!0,className:Dt.tabs,headerClassName:Dt.tabsHeader,size:_t.SIZE.sm,color:_t.COLOR.grey},G.default.createElement(_t.TabPane,{id:"1",tab:s("wallet_extension_import_tab_seed_phrase")},G.default.createElement($e,{...this.props})),G.default.createElement(_t.TabPane,{id:"2",tab:s("wallet_extension_import_tab_private_key")},G.default.createElement(be,{...this.props}))))):null}},on=(0,Fe.connect)(null,null)(Gt);export{on as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=ImportSeedPhraseAndPrivateKey-JQJZOJOD.js.map
