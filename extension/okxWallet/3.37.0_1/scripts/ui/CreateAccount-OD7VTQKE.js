import{a as v,f as S}from"./chunk-HFJWHAAP.js";import{a as P}from"./chunk-4JNVSGED.js";import{a as j}from"./chunk-L7FDIAMD.js";import"./chunk-77F6B6US.js";import"./chunk-LLMO6UHT.js";import"./chunk-TGE2FOSE.js";import"./chunk-4AVGLJGA.js";import"./chunk-TQ3GWPOH.js";import"./chunk-PYZXP3W4.js";import"./chunk-QDNQKTGP.js";import"./chunk-BDM2VHZE.js";import"./chunk-64SQYTOJ.js";import"./chunk-Z4OLA6VU.js";import"./chunk-5O3SURTC.js";import"./chunk-NMBDO6HS.js";import"./chunk-55MCSU6E.js";import{a as $}from"./chunk-FQEN5BEF.js";import"./chunk-KRXFQR7K.js";import{a as C}from"./chunk-CE23KTLV.js";import"./chunk-ZL32ASCM.js";import"./chunk-3TUBCZ6Z.js";import"./chunk-5RWJB7PM.js";import{sa as b,ta as N}from"./chunk-UOK5DCVS.js";import"./chunk-O4AMPUEN.js";import{q as g}from"./chunk-AACZ2HW4.js";import"./chunk-M2U4YLEL.js";import"./chunk-ZBGU2467.js";import"./chunk-DD3BDKUM.js";import"./chunk-TYUTKD3A.js";import"./chunk-ENPA2E7U.js";import"./chunk-WOHVJ5VI.js";import"./chunk-HXEPH4TB.js";import{a as O}from"./chunk-F7IOPQEO.js";import"./chunk-GFKCYZVW.js";import"./chunk-CHLBHCPL.js";import"./chunk-NC7RXVWZ.js";import"./chunk-DM24NLHH.js";import"./chunk-PTVNLPKV.js";import"./chunk-JFKXAMRK.js";import"./chunk-V2SICOMY.js";import"./chunk-Z6Y7MSRE.js";import{c as A}from"./chunk-FVQK2MNN.js";import"./chunk-5Z5B37ND.js";import"./chunk-QWQGBYOY.js";import"./chunk-BUAMOL6H.js";import{D as m,q as F}from"./chunk-PLHFXPVU.js";import"./chunk-5BQQ5BTM.js";import{N as T,w as t}from"./chunk-4IQZG47E.js";import"./chunk-AJ3QZWYK.js";import"./chunk-4USCG7JU.js";import"./chunk-4LMFCZAJ.js";import"./chunk-GBWBODBO.js";import{ca as f}from"./chunk-X62Q7VCJ.js";import"./chunk-X7RY3AWM.js";import{a as E}from"./chunk-WQYVBC56.js";import"./chunk-MX777P4Z.js";import"./chunk-GW6IXZ75.js";import"./chunk-LSOIOGAP.js";import"./chunk-54ZU3WOZ.js";import"./chunk-E4IUBLG2.js";import"./chunk-GMY3CGN4.js";import"./chunk-7PMBWAQJ.js";import"./chunk-Z37CYTXG.js";import"./chunk-W3TSI3ZZ.js";import"./chunk-JSF2EI74.js";import"./chunk-56JXL4SQ.js";import"./chunk-METSMHFB.js";import{f as h,m as n,o as c}from"./chunk-CS4SUKWE.js";n();c();var e=h(E());T();n();c();var l=h(E()),W=h(O());T();var U=()=>{let r=j(),s=m.useForm(),p=(0,W.useHistory)(),[x,y]=(0,l.useState)(!1),[a,i]=(0,l.useState)({account:r.get("account")||""}),u=Number(r.get("coinId")),{coin:d}=P(u,!1),k=async o=>{try{return await S(o)?Promise.resolve():(s.setErrors({account:t("extension_wallet_create_errortip_error_name")}),Promise.reject())}catch{return s.setErrors({account:t("extension_wallet_create_errortip_error_name")}),Promise.reject()}},z=(0,l.useCallback)(async()=>{y(!0);try{let o={coinId:u,chainId:d?.chainId,...a};await k(o);let{ownerKey:_,activeKey:M}=await v(o);_&&M?s.setErrors({account:t("extension_wallet_create_errortip_used_username")}):p.push(`${N}?coinId=${u}&account=${a?.account}&from=${r.get("from")||""}`)}catch(o){console.log(o)}finally{y(!1)}},[d,a]),B=(0,l.useCallback)(o=>{i(o);let{account:_}=o;p.replace(`${b}?account=${_}&coinId=${u}&account=${a?.account}&from=${r.get("from")||""}`)},[]);return{form:s,values:a,loading:x,onSubmit:z,onValuesChange:B}},L=U;n();c();var V=(r="")=>/^[a-z]{1}[a-z1-5]{11}$/g.test(r);n();c();var w={"wax-create-account-form":"_wax-create-account-form_3yjsy_1",waxCreateAccountForm:"_wax-create-account-form_3yjsy_1","wax-create-account-rules":"_wax-create-account-rules_3yjsy_4",waxCreateAccountRules:"_wax-create-account-rules_3yjsy_4"};var Y=()=>{let{form:r,loading:s,values:p,onSubmit:x,onValuesChange:y}=L();return e.default.createElement(A.Container,{className:w["wax-create-account"]},e.default.createElement($,{closeable:!1,title:t("extension_wallet_header_title_waxaccount_opening")}),e.default.createElement(m,{form:r,initialValues:p,className:w["wax-create-account-form"],onValuesChange:y,onSubmit:x},e.default.createElement(m.Item,{name:"account",validateTrigger:"onChange",rules:[{validator:(a,i)=>i&&!V(i)?Promise.reject(t("extension_wallet_create_errortip_error_name")):Promise.resolve()}],label:t("extension_wallet_create_text_set_account_name")},e.default.createElement(F,{placeholder:t("extension_wallet_create_input_enter_account_name")})),e.default.createElement(m.Item,{shouldUpdate:!0},({getFieldValue:a,getFieldsError:i})=>{let u=i(),d=a("account");return e.default.createElement(C.FooterActions,{usePortal:!0},e.default.createElement(f,{loading:s,htmlType:"submit",category:f.CATEGORY.fill,type:f.TYPE.highlight,size:f.SIZE.lg,onClick:x,disabled:!d||u?.length},t("wallet_extension_send_btn_next_step")))})),e.default.createElement(C,{offsetBottom:104,component:A.FlexBox,justify:"center"},e.default.createElement(g.Text,{component:"pre",type:g.TYPE.secondary,size:g.SIZE.xs,className:w["wax-create-account-rules"]},t("extension_wallet_create_input_naming_rules"))))},de=e.default.memo(Y);export{de as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=CreateAccount-OD7VTQKE.js.map
