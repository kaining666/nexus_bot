import{a as eo,b as to,c as oo,d as ht,e as ro,f as _e}from"./chunk-T4G5BNXN.js";import{a as ge}from"./chunk-5M7YGEA7.js";import{a as Qe}from"./chunk-Y4W36EYJ.js";import{a as We,b as Ge,c as no}from"./chunk-CUOZJ76V.js";import{a as Me,b as kt,c as xe,d as ee,f as St,g as qe,h as Oe}from"./chunk-4FP4CS66.js";import{a as x}from"./chunk-N5PE2NEH.js";import{b as d}from"./chunk-JJBV375X.js";import{a as C}from"./chunk-7MGQA7AT.js";import{a as L,b as D}from"./chunk-6G5SGP4W.js";import{d as Fe,e as Rt,f as dt,g as Xt,h as $t,i as Ht,j as _t,k as gt,l as Zt,m as ae}from"./chunk-E5JLBPN6.js";import{a as Yt}from"./chunk-6SHMV4BH.js";import{g as Vt,h as Ft,i as Qt,j as Ve,m as H}from"./chunk-E4DPTHXM.js";import{a as jt}from"./chunk-WH4CRXKV.js";import{a as Kt}from"./chunk-XD6FAB2F.js";import{a as Ot}from"./chunk-OG5JWNZH.js";import{a as A}from"./chunk-PF2X6IYY.js";import{a as Jt}from"./chunk-CCGVYODF.js";import{J as zt,n as Wt,t as Gt}from"./chunk-67OZVYSW.js";import{e as ft,f as qt}from"./chunk-SEXC6U4O.js";import{b as l,d as O}from"./chunk-IV5YQZMD.js";import{l as N}from"./chunk-BNWEXJ7R.js";import{a as pt,f as de}from"./chunk-RCQMEJEP.js";import{$a as ut,Ga as at,Ha as mt,Na as Dt,Qa as ct,lb as Ut}from"./chunk-WTBIP24L.js";import{k as lt}from"./chunk-HWYDZOOB.js";import{a as be}from"./chunk-F7IOPQEO.js";import{H as $,I as w,O as Bt,P as Lt,c as J,o as z,q as st,r as Ue,y as it}from"./chunk-PLHFXPVU.js";import{F as Be,M as It,e as Pt,j as ne,pa as Le,x as Nt}from"./chunk-5BQQ5BTM.js";import{D as De,N as se,l as q,n as At}from"./chunk-4IQZG47E.js";import{T as X,ca as ie}from"./chunk-X62Q7VCJ.js";import{a as h}from"./chunk-WQYVBC56.js";import{f,m as n,o as s}from"./chunk-CS4SUKWE.js";n();s();var Tt=f(h()),Et=f(O());n();s();var yt={root:"_root_1ezdn_1",error:"_error_1ezdn_10",skeleton:"_skeleton_1ezdn_13"};var Mr=({className:e,loading:t,amount:r,currency:o})=>{let a=r&&o?de(r,{needBillionMillionUnit:!1}):"--";return Tt.default.createElement(C,{loading:t,height:16,className:(0,Et.default)(e,yt.skeleton)},Tt.default.createElement("div",{className:(0,Et.default)(e,yt.root)},l("swaptrade_trade_title_balance_amt",{num:a,symbol:o})))};n();s();var io=f(h()),je=f(be());n();s();var ze=f(h()),Ye=f(O());n();s();var ve={root:"_root_11r3h_1",item:"_item_11r3h_8",active:"_active_11r3h_23",skeleton:"_skeleton_11r3h_27"};var so=({className:e="",loading:t,tabList:r})=>ze.default.createElement(C,{loading:t,height:32,className:(0,Ye.default)(e,ve.skeleton)},ze.default.createElement("div",{className:(0,Ye.default)(e,ve.root)},r.map(o=>ze.default.createElement(w,{key:o.name,className:(0,Ye.default)(ve.item,o.active&&ve.active),onClick:o.onClick},o.name))));var jr=({className:e="",loading:t,mode:r})=>{let o=(0,je.useHistory)(),i=(0,je.useLocation)(),{search:a,pathname:m}=i,c=H(Ft),p=H(Vt),_=[{name:l("swaptrade_market_item_buy"),active:r==="buy",onClick:()=>{m!==c&&(A.set(at,c),o.replace(c+gt(dt(_t(a)))))}},{name:l("swaptrade_market_tab_item_sell"),active:r==="sell",onClick:()=>{m!==p&&(A.set(at,p),o.replace(p+gt(dt(_t(a)))))}}];return io.default.createElement(so,{className:e,loading:t,tabList:_})};n();s();var he=f(h()),ao=f(O());n();s();var bt={root:"_root_vldoz_1","root-tg":"_root-tg_vldoz_10",rootTg:"_root-tg_vldoz_10"};var nn=({children:e})=>{let t=Ot(),r=()=>globalThis.document.querySelector(".main-container-wrapper").clientWidth-46,[o,i]=(0,he.useState)(r()),a=()=>{i(r())};return(0,he.useEffect)(()=>(window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}),[]),he.default.createElement("div",{className:(0,ao.default)(bt.root,{[bt.rootTg]:t}),style:{width:o}},e)};n();s();var Se=f(h());n();s();var b=f(h()),te=f(O());Le();n();s();var me=f(h());n();s();var Ce={root:"_root_15azj_1",select:"_select_15azj_11",body:"_body_15azj_14",item:"_item_15azj_18",name:"_name_15azj_35",check:"_check_15azj_44"};var Ho=({name:e,onClick:t,checked:r})=>me.default.createElement(w,{className:Ce.item,onClick:t},me.default.createElement("span",{className:Ce.name},e),r?me.default.createElement(Ue.Circle,{checked:!0,className:Ce.check}):null),Zo=({visible:e,setVisible:t})=>{let{isSm:r}=jt(),{memeSellStore:o}=d(),{isInputPercent:i,setIsInputPercent:a,fromToken:m,setInputSellValue:c}=o,p=[{key:"percent-mode",name:l("swaptrade_meme_order_option_percentage"),onClick:()=>{a(!0),c(""),t(!1)},checked:i},{key:"number-mode",name:m?.tokenSymbol||"",onClick:()=>{a(!1),c(""),t(!1)},checked:!i}];return me.default.createElement(z.Action,{onClose:()=>{t(!1)},visible:e,windowStyle:{borderTopLeftRadius:r?16:6,borderTopRightRadius:r?16:6},hideCloseBtn:r},me.default.createElement("div",{className:Ce.body},p.map(_=>me.default.createElement(Ho,{key:_.key,..._}))))},mo=N(Zo);n();s();var ke={"input-container":"_input-container_fyhvp_1",inputContainer:"_input-container_fyhvp_1",suffix:"_suffix_fyhvp_4","mode-text":"_mode-text_fyhvp_7",modeText:"_mode-text_fyhvp_7"};var Jo=N(()=>{let{memeBuyStore:e,memeSellStore:t}=d(),{isSellRoute:r}=x(),{inputBuyValue:o,setInputBuyValue:i,toToken:a}=e,{inputSellValue:m,setInputSellValue:c,isInputPercent:p,fromToken:_}=t,[g,y]=(0,b.useMemo)(()=>r?[m,c]:[o,i],[r,o,i,m,c]),k=B=>B===`${1e-12}`?Ut().slice(1):B,S=B=>{let Ae=B;r&&p&&B>100||(r&&p&&B==="100."&&(Ae="100"),y(Ae))},[,T]=(0,b.useTransition)(),v=B=>{T(()=>{let Ae=k(B),wt=qt(Ae);!It(wt)&&S(wt)})},[I,E]=(0,b.useState)(!1),[R,F]=(0,b.useMemo)(()=>r?p?[b.default.createElement("div",{key:"meme-swap-percentage-suffix",className:(0,te.default)("flex items-center",ke.suffix)},b.default.createElement("span",{className:(0,te.default)(ke.modeText)},l("swaptrade_meme_order_option_percentage")),b.default.createElement(w,{onClick:()=>E(!0)},b.default.createElement(X,{className:(0,te.default)("okx-defi-dex-market-sort-down","content-primary"),style:{fontSize:12,cursor:"pointer"}}))),2]:[b.default.createElement("div",{key:"meme-swap-default-suffix",className:(0,te.default)("flex items-center",ke.suffix)},b.default.createElement("span",{className:(0,te.default)(ke.modeText)},_?.tokenSymbol||""),b.default.createElement(w,{onClick:()=>E(!0)},b.default.createElement(X,{className:(0,te.default)("okx-defi-dex-market-sort-down"),style:{fontSize:12,cursor:"pointer"}}))),Math.min(ut,Number(_?.decimals)),Number.MAX_SAFE_INTEGER]:[null,Math.min(ut,Number(a?.decimals))],[r,p,_,a]),[Q,nt]=(0,b.useState)(null);return(0,b.useEffect)(()=>{Pt(ne(Q,"focus"))&&Q.focus()},[p,Q]),b.default.createElement(b.default.Fragment,null,b.default.createElement(st.Number,{size:st.SIZE.xl,onRef:B=>{nt(B)},useReactTransition:!0,className:(0,te.default)(ke.inputContainer),value:g,inputMode:"decimal",autoComplete:"off",spellCheck:"false",onChange:v,suffix:R,precision:F}),b.default.createElement(mo,{visible:I,setVisible:E}))}),lo=Jo;n();s();var le=f(h()),Re=f(O());n();s();var we={select:"_select_9f8r3_1",skeleton:"_skeleton_9f8r3_4","select-item":"_select-item_9f8r3_8",selectItem:"_select-item_9f8r3_8",selected:"_selected_9f8r3_25"};var er=()=>{let{memeConfigStore:e,memeBuyStore:t,memeSellStore:r,memeQuoteStore:o}=d(),{config:i,initLoading:a}=e,{isSellRoute:m,isBuyRoute:c}=x(),{selectBuyValue:p,setSelectBuyValue:_}=t,{selectSellValue:g,setSelectSellValue:y}=r,[k,S]=(0,le.useMemo)(()=>m?[g,y]:[p,_],[m,p,_,g,y]),T=(0,le.useMemo)(()=>{if(a)return[{label:"",key:"meme_custom1"},{label:"",key:"meme_custom2"},{label:"",key:"meme_custom3"},{label:"",key:"meme_custom4"}];if(!i)return[];let{defaultBuyAmountList:E,defaultSellPercentList:R}=i;return m?[...R.map((F,Q)=>({value:F,key:`meme_custom1${Q+1}`,label:Q<2?`${Number(F)*100}%`:l("swaptrade_card_swap_btn_all")})),{value:Oe,label:l("swaptrade_dialog_modal_custom")}]:[...E.map((F,Q)=>({value:F,label:F,key:`meme_custom1${Q+1}`})),{value:Oe,label:l("swaptrade_dialog_modal_custom")}]},[m,i]),v=We(),I=E=>{c&&k===Oe&&A.set(qe,""),E?.value&&(S(E.value),v())};return le.default.createElement("div",{className:(0,Re.default)("flex items-center",we.select)},T.map(E=>le.default.createElement(C,{loading:o?.initLoading,height:88,className:(0,Re.default)(we.skeleton),key:E?.key},le.default.createElement(w,{className:(0,Re.default)(we.selectItem,{[we.selected]:E.value===k}),onClick:()=>{I(E)}},E.label))))},co=N(er);var tr=N(({className:e})=>{let{memeBuyStore:t,memeSellStore:r,memeConfigStore:o}=d(),{selectBuyValue:i}=t,{selectSellValue:a}=r,{isSellRoute:m}=x(),c=(0,Se.useMemo)(()=>m?a===St:i===St,[m,i,a]);return Se.default.createElement("div",{className:e},Se.default.createElement(co,null),!o.initLoading&&c&&Se.default.createElement(lo,null))}),_s=tr;n();s();function uo(){let e=ge(Wt),{memeQuoteStore:t,memeAccountStore:r,memeConfigStore:o}=d(),{computedQuoteIsError:i,computedQuoteErrorMsg:a,computedQuoteLiquidityError:m,computedQuoteIsHoneypot:c,computedQuoteNetworkError:p}=t,{computedNonsupportChain:_}=r,{config:g}=o,{nativeTokenInfo:y}=g||{},{chainName:k}=y||{};return _?(e({type:"switch_wallet"}),{title:l("swaptrade_adjustslip_modal_title_wrongnetwork"),desc:l("swaptrade_card_alert_switch_wallet_to_match",{chainName:k}),type:J.TYPE.warn}):m?(e({type:"no_liquidity"}),{title:l("swap_title_quote_server_error"),desc:l("swaptrade_swap_card_text_no_quote_fetched"),type:J.TYPE.error}):c?{title:l("swap_title_quote_server_error"),desc:l("swaptrade_quote_error_malicious_token"),type:J.TYPE.error}:i?{title:l("swap_title_quote_server_error"),desc:a||l("swaptrade_quote_error_no_update"),type:J.TYPE.error}:p?{title:l("swap_title_quote_server_error"),desc:l("swaptrade_quote_server_error_content"),type:J.TYPE.error}:null}n();s();var Pe=f(h());n();s();var xt=f(h());n();s();var Z=f(h());se();n();s();function ye(){let{memeBuyStore:e,memeSellStore:t}=d(),{isSellRoute:r}=x();return r?t.computedSellNumber:e.computedBuyNumber}n();s();Le();se();function po(){let e=ye(),{fromToken:t}=_e();return Be(t.amountNum)||new q.BigNumber(e).gt(t.amountNum)}function fo(){let{memeQuoteStore:e,memeAccountStore:t}=d(),r=ye(),o=(0,Z.useCallback)(()=>new q.BigNumber(r).gt(0)?"":ee,[r]),i=(0,Z.useCallback)(()=>e.computedCustomQuoteLoading?ee:e.computedQuoteIsInvalid?ee:"",[e.computedQuoteIsInvalid,e.computedCustomQuoteLoading]),{computedNonsupportChain:a}=t,m=(0,Z.useCallback)(()=>a?ee:"",[a]),c=po(),p=(0,Z.useCallback)(()=>c?xe:"",[c]),[_,g]=(0,Z.useState)(ee);return(0,Z.useEffect)(()=>{let y=[m,o,i,p],k;for(let S=0;S<y.length;S++){let T=y[S]();if(T){k=T;break}}g(k||Me)},[o,p,i,g,m]),_}n();s();var Po=f(h());n();s();var Xe=f(h());function _o(e){let[t,r]=(0,Xe.useState)(!1);return{runPreconditions:(0,Xe.useCallback)(async()=>{r(!0);try{await e.reduce(async(i,a)=>{let m=await i;return a(m)},Promise.resolve())}finally{r(!1)}},[e]),loading:t}}n();s();var ko=f(h());n();s();var go=f(h());function ho(){let{memeSwapStore:e,sendTransactionStore:t}=d(),{getJitoTxData:r}=e,{signSolanaTransactionWithMeme:o}=t;return{onSolanaSign:(0,go.useCallback)(async a=>{try{let m=await r(a),c=await o(a,m);return D.info(L.MEME_SWAP_SIGN_SUCCESS,{data:{...a,unsignedTxArray:m,signedTransactions:c}}),{...a,signedTransactions:c,txArray:m}}catch(m){throw m?.message!=="Expected String"&&$.error(l("swaptrade_home_toast_initiation_error")),D.error(L.MEME_SWAP_SIGN_ERROR,{data:{error:m,data:a}}),new Error(m?.error_message)}},[r,o])}}function So(){let{memeConfigStore:e,memeSwapStore:t}=d(),{onSolanaSign:r}=ho();return(0,ko.useCallback)(async(i={})=>{let{signedTransactions:a,txArray:m}=await r(i),c=await t.onSolanaSwap({data:i,signedTransactions:a,txArray:m}),{config:p}=e,{nativeTokenInfo:_}=p||{},{tokenContractAddress:g}=_||{},{calldataParams:y}=i,{fromAmount:k,fromTokenAddress:S}=y||{};return S===g&&A.set(qe,k),{...i,broadcastRes:c}},[e,t,r])}n();s();var $e=f(h());se();function yo(){let{memeQuoteStore:e,memeAccountStore:t}=d(),{computedGetRouterList:r,computedGetEstimateGasFee:o,computedGetQuoteFrom:i,computedGetQuoteTo:a,computedGetQuoteFromAmount:m,computedGetQuoteToAmount:c,computedPriorityFeeInfo:p,computedQuoteTraceData:_,priorityFee:g,slippage:y}=e,k=t.getAddressByChainId(i.chainId),S=t.computedAccountId,T=(0,$e.useMemo)(()=>({dexRouterList:r,priorityFee:g?.value,slippage:y?.value,estimateGasFee:o,chainId:i.chainId,fromTokenAddress:i.tokenContractAddress,fromAmount:m,toTokenAddress:a.tokenContractAddress,toAmount:c,userWalletAddress:k,enableJito:!!p?.enableJito,customPriorityFee:g.type==="custom"}),[r,g.value,g.type,y?.value,o,i.chainId,i.tokenContractAddress,m,a.tokenContractAddress,c,k,p?.enableJito]);return(0,$e.useCallback)(async()=>{D.info(L.MEME_SWAP_GET_CALLDATA_PARAMS,{data:T});let[I,E]=await De(to(T));if(I||!E.data?.unsignedTx)throw $.error(I?.error_message||l("swaptrade_home_toast_initiation_error")),D.error(L.MEME_SWAP_GET_CALLDATA_ERROR,{data:{error:I,params:T,res:E}}),new Error(I?.error_message);return{unsignedTx:E.data.unsignedTx,calldataParams:{...T,traceData:_},walletId:S}},[_,T,S])}n();s();var Mt=f(h());Le();se();function To(){let{memeQuoteStore:e,memeAccountStore:t,memeSwapStore:r}=d(),{computedGetQuoteFrom:o}=e,{usePreExecuteFn:i}=lt.hooks,{TxToastCheckTypeEnum:a}=lt.global,m=i(),c=o.isNativeToken?"":o.tokenContractAddress,p=t.getAddressByChainId(o.chainId),_=Jt(o.chainId,c),g=r.getSolanaUnsignedTx,y=(0,Mt.useCallback)(S=>{let T=g(S);return{checkTypes:[a.TX_ANALYZE],from:p,chainId:o.chainId,coinId:_?.coinId,simulateTransactionParamList:T.map(v=>({transaction:v.data,sigVerify:!1,replaceRecentBlockhash:!0}))}},[g,a.TX_ANALYZE,_?.coinId,o.chainId,p]);return(0,Mt.useCallback)(async(S={})=>{let T=y(S),[v,I]=await De(m(T));if(v)throw $.error(v?.error_message||l("swaptrade_home_toast_initiation_error")),D.error(L.MEME_SWAP_PRE_EXECUTE_ERR,{error:v,data:{executeParams:T,data:S}}),new Error(v?.error_message);let E=ne(I,`${a.TX_ANALYZE}`,{});if(!E.result){let R=E.msg||ne(Nt(E.simulateTransactionResultList,F=>!Be(F.msg)),"msg",l("swaptrade_home_toast_initiation_error"));throw $.error(R),D.error(L.MEME_SWAP_PRE_EXECUTE_RESULT_ERR,{data:{error:E,...S,executeParams:T}}),new Error(R)}return D.info(L.MEME_SWAP_PRE_EXECUTE_RESULT,{data:{...S,executeParams:T}}),S},[m,y])}n();s();var P=f(h());n();s();var Eo="RISK_ACCEPT_KEY";function bo(){return A.get(Eo)}function Mo(){return A.set(Eo,1)}function xo(e,t,r=20){if(r<0||r>100)throw new Error("Percentage should be between 0 and 100");let o=new pt.BigNumber(e),i=new pt.BigNumber(t);if(o.isZero())throw new Error("The 'from' value cannot be zero to calculate percentage difference.");let m=o.minus(i).div(o).times(100);return{isDifferenceLarge:m.gte(r),percentageDifference:m.toFixed(2)}}function vo({checked:e,setChecked:t}){return P.default.createElement("div",null,P.default.createElement("p",null,l("swaptrade_modal_toast_desc_risk_reminder")),P.default.createElement(Ue,{checked:e,onChange:r=>{t(r.target.checked)}},l("swaptrade_confirmation_checkbox_aware_risk")))}function Co(){let[e,t]=(0,P.useState)(!1);(0,P.useEffect)(()=>{let i=bo();t(!!i)},[]);let r=(0,P.useRef)(null),o=(0,P.useCallback)(()=>e?Promise.resolve(!0):new Promise((i,a)=>{r.current=z.tip({infoType:z.Tip.INFO_TYPE.success,title:l("swaptrade_modal_toast_title_risk_reminder"),children:P.default.createElement(vo,{checked:e,setChecked:t}),confirmText:l("commonall_text_btn_confirm"),confirmBtnProps:{disabled:!0},cancelText:l("commonall_text_btn_cancel"),onConfirm:()=>{Mo(),r.current?.destroy(),i(!0)},onClose:()=>{r.current?.destroy(),r.current=null,t(!1),a(new Error("Risk prompt closed"))},onCancel:()=>{t(!1),a(new Error("Risk prompt closed"))}})}),[e]);return(0,P.useEffect)(()=>{r.current&&r.current?.update({children:P.default.createElement(vo,{checked:e,setChecked:t}),confirmBtnProps:{disabled:!e}})},[e]),o}n();s();var Te=f(h());function wo(){let e=ge(Gt),{memeQuoteStore:t}=d(),r=(0,Te.useCallback)(()=>xo(t.computedFromTokenValue,t.computedToTokenValue,20),[t.computedFromTokenValue,t.computedToTokenValue]);return(0,Te.useCallback)(()=>{try{let{isDifferenceLarge:i,percentageDifference:a}=r();return i?new Promise((m,c)=>{e({popup_type:"valuedifference"});let p=z.tip({infoType:z.Tip.INFO_TYPE.success,title:l("swaptrade_modal_title_crossvalue_deviation"),children:Te.default.createElement("div",null,Te.default.createElement("p",null,l("swaptrade_modal_desc_crossvalue_deviation",{value:a}))),confirmText:l("swaptrade_confirmation_btn_continue_swap"),cancelText:l("commonall_text_btn_cancel"),onConfirm:()=>{p.destroy(),m(!0)},onClose:()=>{c(new Error("Value diff prompt closed"))},onCancel:()=>{c(new Error("Value diff prompt closed"))}})}):Promise.resolve(!0)}catch(i){throw $.error(l("swaptrade_home_toast_initiation_error")),D.error(L.MEME_SWAP_VALUE_DIFF_ERROR,{error:i,data:{"memeModeCommonDexInfo.fromTokenPrice":t.computedFromTokenValue,"memeModeSingleChainSwapInfo.toTokenPrice":t.computedToTokenValue}}),i}},[t.computedFromTokenValue,t.computedToTokenValue,r])}function No(){let e=Co(),t=wo(),r=yo(),o=To(),i=So(),{memeSwapStore:a}=d(),{runPreconditions:m,loading:c}=_o([e,t,r,o,i]),{setIsSwapLoading:p}=a;return(0,Po.useEffect)(()=>{p(c)},[p,c]),{onSwap:m,loading:c}}function or(){let{memeBuyStore:e,memeSellStore:t}=d(),{isSellRoute:r}=x();return(0,xt.useCallback)(()=>r?l(kt,{token:t.computedSellTokenSymbol}):l(Me,{token:e.computedBuyTokenSymbol}),[r,e.computedBuyTokenSymbol,t.computedSellTokenSymbol])}function Io(){let e=ge(),t=fo(),{fromToken:r}=_e(),o=or(),{onSwap:i}=No(),{memeCommonStore:{setAddFundsVisible:a}}=d();return(0,xt.useCallback)(()=>({[Me]:{disabled:!1,btnTxt:()=>o(),onClick:()=>{i(),e({button_name:"confirm"})}},[kt]:{disabled:!1,btnTxt:()=>o(),onClick:()=>{i(),e({button_name:"confirm"})}},[xe]:{disabled:!1,btnTxt:()=>l(xe,{token:r.symbol}),onClick:()=>{a(!0)}},[ee]:{disabled:!0,btnTxt:()=>o(),onClick:()=>{}}}),[r.symbol,o,i,a])()[t]||{}}n();s();var vt={"btn-loading":"_btn-loading_1r7dd_1",btnLoading:"_btn-loading_1r7dd_1",btn:"_btn_1r7dd_1"};var Ia=N(({loading:e})=>{let t=uo(),{btnTxt:r,...o}=Io();return Pe.default.createElement(C,{height:56,loading:e,active:!0,className:vt.btnLoading},Pe.default.createElement(Pe.default.Fragment,null,Pe.default.createElement(ie,{className:vt.btn,category:ie.CATEGORY.fill,type:ie.TYPE.primary,size:ie.SIZE.xl,block:!0,...o,disabled:o.disabled||!!t},r?.())))});n();s();var W=f(h()),Ze=f(O());n();s();var He=f(h());function Ao({userUniqueId:e,computedAccountId:t,chainId:r,debouncedFetchPositionList:o,positionList:i,fromToken:a,setFromToken:m,toToken:c,setToToken:p}){let{isSellRoute:_}=x(),g=We(),y=(0,He.useMemo)(()=>!i||i?.length===0,[i]),k=S=>{if(_?S?.tokenContractAddress!==a?.tokenContractAddress&&m(S):S?.tokenContractAddress!==c?.tokenContractAddress&&p(S),g(),Dt()){let v=document.querySelector("#meme-swap-container");v&&v.scrollTo({top:0,behavior:"smooth"});return}window.scrollTo({top:0,behavior:"smooth"})};return(0,He.useEffect)(()=>{e&&t&&r&&o({chainId:r,accountId:t,userUniqueId:e})},[r,t,e]),{isEmptyData:y,handleSelect:k}}n();s();var Ct=f(h()),Lo=f(O());n();s();var Bo={"empty-container":"_empty-container_1jq1y_1",emptyContainer:"_empty-container_1jq1y_1"};var rr=()=>{let e=()=>Ct.default.createElement(it.State,{type:it.State.TYPE.noResult,title:l("swaptrade_general_emptystate_no_assets")});return Ct.default.createElement("div",{className:(0,Lo.default)("flex justify-content-center align-items-center",Bo.emptyContainer)},e())},Do=rr;n();s();var ce={"my-position":"_my-position_115ho_1",myPosition:"_my-position_115ho_1",line:"_line_115ho_4","title-part":"_title-part_115ho_9",titlePart:"_title-part_115ho_9",title:"_title_115ho_9","chain-logo":"_chain-logo_115ho_19",chainLogo:"_chain-logo_115ho_19",container:"_container_115ho_22"};var nr=N(()=>{let{memeConfigStore:e,memePositionStore:t,memeAccountStore:r,memeCommonStore:o,memeBuyStore:i,memeSellStore:a}=d(),{config:m}=e,c=m?.nativeTokenConfig,p=m?.solanaChainLogo,_=c?.chainId,{fetchPositionList:g,positionList:y,initState:k}=t,{computedAccountId:S}=r,{userUniqueId:T}=o,{setToToken:v,toToken:I}=i,{setFromToken:E,fromToken:R}=a,F=eo(g,300),{isEmptyData:Q,handleSelect:nt}=Ao({userUniqueId:T,computedAccountId:S,chainId:_,debouncedFetchPositionList:F,positionList:y,setToToken:v,toToken:I,setFromToken:E,fromToken:R});if(!T)return null;let B=(0,W.useMemo)(()=>Q?W.default.createElement(Do,null):W.default.createElement("div",{className:ce.container},W.default.createElement(no,{key:_,isMyPosition:!0,normalList:y,selectToken:nt})),[Q,R?.tokenContractAddress,I?.tokenContractAddress,y]);return k&&W.default.createElement("div",{className:(0,Ze.default)(ce.myPosition)},W.default.createElement("div",{className:ce.line}),W.default.createElement("div",{className:(0,Ze.default)("flex items-center justify-between",ce.titlePart)},W.default.createElement("span",{className:ce.title},l("swaptrade_meme_order_title_my_positions")),W.default.createElement(Kt,{src:p,size:24,className:(0,Ze.default)(ce.chainLogo)})),B)}),dm=nr;n();s();var Vo=f(h());n();s();var Uo={alert:"_alert_12652_1"};var vm=({info:e})=>{if(e){let{title:t,desc:r,type:o}=e;return Vo.default.createElement(J,{className:Uo.alert,title:t,desc:r,type:o,closable:!1})}return null};n();s();n();s();var K=f(h()),Fo=f(be()),Ne=f(O());n();s();var oe={content:"_content_1mhlc_1",left:"_left_1mhlc_7",right:"_right_1mhlc_14","right-text":"_right-text_1mhlc_29",rightText:"_right-text_1mhlc_29","right-icon":"_right-icon_1mhlc_30",rightIcon:"_right-icon_1mhlc_30",skeleton:"_skeleton_1mhlc_33","right-skeleton":"_right-skeleton_1mhlc_37",rightSkeleton:"_right-skeleton_1mhlc_37"};var Qo=({className:e="",rightLoading:t,initLoading:r,type:o="market",currency:i,amount:a,mode:m})=>{let c=(0,Fo.useHistory)(),p={market:l("swaptrade_modal_dialog_option_market"),fast:l("swaptrade_modal_dialog_option_fast5x"),turbo:l("swaptrade_modal_dialog_option_turbo10x")},_=`${H(Ve)}?tab=${m}`,g=a&&i?`${de(a,{needBillionMillionUnit:!1})} ${i}`:"--";return K.default.createElement(C,{loading:r,height:16,className:(0,Ne.default)(e,oe.skeleton)},K.default.createElement("div",{className:(0,Ne.default)(e,oe.content)},K.default.createElement("div",{className:oe.left},l("swaptrade_modal_dialog_title_priority")),K.default.createElement(C,{loading:t,height:16,className:oe.rightSkeleton},K.default.createElement(w,{className:oe.right,onClick:()=>{c.push(_)}},o in p?K.default.createElement(Lt,{size:Bt.SIZE.sm},p[o]):null,K.default.createElement("div",{className:(0,Ne.default)("ml-4","content-primary",oe.rightText)},g),K.default.createElement(X,{iconName:"okx-defi-dex-arrow-right-1",className:(0,Ne.default)("ml-4","content-secondary",oe.rightIcon)})))))};n();s();var re=f(h()),Ke=f(O());n();s();var Y=f(h()),qo=({stop:e})=>{let t=(0,Y.useRef)(null);(0,Y.useEffect)(()=>{t.current?.beginElement()},[]),(0,Y.useEffect)(()=>{e?t.current?.endElement():t.current?.beginElement()},[e]);let r=["rotate(","-90"," ","8"," ","8",")"].join("");return Y.default.createElement("svg",{id:"progressSvg",width:"16",height:"16",viewBox:"0 0 16 16"},Y.default.createElement("circle",{cx:"8",cy:"8",r:"5",stroke:"#A3A3A3",style:{stroke:"#A3A3A3"},strokeWidth:"3",fill:"none"}),Y.default.createElement("circle",{id:"progressCircle",cx:"8",cy:"8",r:"5",stroke:"var(--okd-color-border-primary)",strokeWidth:"3",fill:"none",strokeDasharray:"31.4",strokeDashoffset:"31.4",transform:r},Y.default.createElement("animate",{ref:t,attributeName:"stroke-dashoffset",from:"31.4",to:"0",dur:"5s",fill:"remove",begin:"indefinite"})))};n();s();var ue={content:"_content_jq5p6_1",left:"_left_jq5p6_7",right:"_right_jq5p6_14","right-text":"_right-text_jq5p6_29",rightText:"_right-text_jq5p6_29","right-icon":"_right-icon_jq5p6_30",rightIcon:"_right-icon_jq5p6_30",skeleton:"_skeleton_jq5p6_33","right-skeleton":"_right-skeleton_jq5p6_37",rightSkeleton:"_right-skeleton_jq5p6_37",amount:"_amount_jq5p6_41"};var sr=({className:e="",initLoading:t,rightLoading:r,circleLoading:o,tokenAmount:i,price:a,tokenSymbol:m})=>{let{getUsd:c}=Ge(),p=i&&a&&m?`${de(i,{needBillionMillionUnit:!1})} ${m} (${c(a)})`:"--";return re.default.createElement(C,{loading:t,height:16,className:(0,Ke.default)(e,ue.skeleton)},re.default.createElement("div",{className:(0,Ke.default)(e,ue.content)},re.default.createElement("div",{className:ue.left},l("swaptrade_modal_label_quote")),re.default.createElement(C,{loading:r,height:16,className:ue.rightSkeleton},re.default.createElement("div",{className:ue.right},re.default.createElement(qo,{stop:o}),re.default.createElement("div",{className:(0,Ke.default)("ml-4 content-primary",ue.amount)},p)))))},Oo=N(sr);n();s();var j=f(h()),Wo=f(be()),Ee=f(O());se();n();s();var G={content:"_content_1al0i_1",left:"_left_1al0i_7",right:"_right_1al0i_14","right-text":"_right-text_1al0i_29",rightText:"_right-text_1al0i_29","right-icon":"_right-icon_1al0i_30",rightIcon:"_right-icon_1al0i_30",skeleton:"_skeleton_1al0i_33","right-skeleton":"_right-skeleton_1al0i_37",rightSkeleton:"_right-skeleton_1al0i_37",warning:"_warning_1al0i_41","warning-text":"_warning-text_1al0i_44",warningText:"_warning-text_1al0i_44"};var Go=({className:e="",initLoading:t,rightLoading:r,percent:o,isSafeMoonToken:i=0,tokenSymbol:a="",tokenTax:m="",mode:c})=>{let p=(0,Wo.useHistory)(),_=o?`${ft(q.mul(o,100),{needZero:!1})}`:"--",g=i===1&&!r&&q.gt(m,0)&&q.lt(o,m),y=g?ft(q.mul(m,100),{needZero:!1}):"--",k=`${H(Ve)}?tab=${c}`;return j.default.createElement(C,{loading:t,height:16,className:(0,Ee.default)(e,G.skeleton)},j.default.createElement("div",{className:(0,Ee.default)(e,G.root)},j.default.createElement("div",{className:G.content},j.default.createElement("div",{className:G.left},l("swaptrade_extension_header_title_slippage_tolerance")),j.default.createElement(C,{loading:r,height:16,className:G.rightSkeleton},j.default.createElement(w,{className:G.right,onClick:()=>{p.push(k)}},j.default.createElement("div",{className:(0,Ee.default)("content-primary",G.rightText,{[G.warning]:g})},_),j.default.createElement(X,{iconName:"okx-defi-dex-arrow-right-1",className:(0,Ee.default)("ml-4","content-secondary",G.rightIcon)})))),g?j.default.createElement("div",{className:(0,Ee.default)("mt-16",G.warningText)},l("swaptrade_modal_alert_error_trade_tax",{token:a,num:y})):null))};var Pl={PriorityFee:Qo,Quote:Oo,Slippage:Go};n();s();var M=f(h()),zo=f(be()),Ie=f(O());se();n();s();var U={root:"_root_1f7aw_1",chain:"_chain_1f7aw_9",content:"_content_1f7aw_13",symbol:"_symbol_1f7aw_18","token-select":"_token-select_1f7aw_34",tokenSelect:"_token-select_1f7aw_34",copy:"_copy_1f7aw_44",address:"_address_1f7aw_50",data:"_data_1f7aw_58",price:"_price_1f7aw_63",split:"_split_1f7aw_74",cap:"_cap_1f7aw_81",skeleton:"_skeleton_1f7aw_92"};function ir(e){let t=e,r=t.getBoundingClientRect().width,o=document.createRange();return o.setStart(t,0),o.setEnd(t,t.childNodes.length),o.getBoundingClientRect().width-r>1}var Hl=({className:e="",loading:t,mode:r,item:o})=>{let i=(0,zo.useHistory)(),{getUsd:a}=Ge(),m=`${H(Qt)}?tab=${r}`,c=o?.price?a(o?.price):"--",p=o?.marketCap?a(new q.BigNumber(o?.marketCap).toFixed(2)):"--",_=(0,M.useRef)(null),[g,y]=(0,M.useState)(!1);(0,M.useEffect)(()=>{!g&&p&&_.current&&ir(_.current)&&y(!0)},[g,p,_.current]);let k={display:g?"block":"flex"},S={marginTop:g?"4px":"0"};return M.default.createElement(C,{loading:t||!o?.tokenSymbol,height:86,className:(0,Ie.default)(e,U.skeleton)},M.default.createElement("div",{className:(0,Ie.default)(e,U.root)},M.default.createElement("div",{className:U.chain},M.default.createElement(Yt,{tokenSrc:o?.tokenLogoUrl??ct(),chainSrc:o?.chainLogoUrl??ct(),chainSize:14,tokenSize:34,className:(0,Ie.default)("boxCurrency")})),M.default.createElement("div",{className:U.content},M.default.createElement("div",{className:"flex items-center justify-start"},M.default.createElement(w,{className:U.symbol,onClick:()=>{i.push(m)}},o?.tokenSymbol||"--"),M.default.createElement(w,{onClick:()=>{i.push(m)}},M.default.createElement(X,{className:(0,Ie.default)("okx-defi-dex-arrow-down-sincere",U.tokenSelect),style:{fontSize:12},a11yText:"select"}))),M.default.createElement("div",{className:U.address},zt(o?.tokenContractAddress,8,8)||"--"),M.default.createElement("div",{className:U.data,style:k},M.default.createElement("div",{className:U.price},l("swaptrade_trade_label_price_numvalue",{value:c})),g?null:M.default.createElement("div",{className:U.split}),M.default.createElement("div",{className:U.cap,ref:_,style:S},l("swaptrade_trade_label_mcap_numvalue",{value:p}))))))};n();s();var V=f(h());se();n();s();var pe={body:"_body_t1th5_1","sub-title":"_sub-title_t1th5_4",subTitle:"_sub-title_t1th5_4",content:"_content_t1th5_11"};var pc=()=>{let[e,t]=(0,V.useState)(!1);(0,V.useEffect)(()=>{A.get(mt)||t(!0)},[]);let r=()=>{t(!e),A.set(mt,!0),setTimeout(()=>{At.trigger("MEME_MODE_USER_GUIDE")},200)};return V.default.createElement(z.Action,{confirmBtnProps:{size:ie.SIZE.lg},confirmText:l("commonall_text_btn_ok_active"),onConfirm:r,onClose:r,visible:e,hideCloseBtn:!0,title:l("swaptrade_trade_bttmsheet_header_meme_mode"),titleCenter:!0,windowStyle:{borderTopLeftRadius:16,borderTopRightRadius:16}},V.default.createElement("div",{className:pe.body},V.default.createElement("div",{className:pe.subTitle},l("swaptrade_trade_bttmsheet_title_nofee")),V.default.createElement("p",{className:pe.content},l("swaptrade_trade_bttmsheet_desc_nofee")),V.default.createElement("div",{className:pe.subTitle},l("swaptrade_trade_bttmsheet_title_nocustody")),V.default.createElement("p",{className:pe.content},l("swaptrade_trade_bttmsheet_desc_nocustody")),V.default.createElement("p",{className:pe.content},l("swaptrade_trade_bttmsheet_text_solana"))))};n();s();function kc(e){let{memeSellStore:t,memeBuyStore:r,memeQuoteStore:o}=d(),{isSellRoute:i}=x(),a=i?t.computedSellNumberIsValid:r.computedBuyNumberIsValid;return!e&&a||o.initLoading}n();s();var Je=f(h());n();s();function Yo(){let{memeQuoteStore:e}=d();return e?.slippage?.value}function Nc(){let{memeQuoteStore:e}=d(),{fetchMemeQuote:t,cleanMemeQuoteTimer:r}=e,{fromToken:o,toToken:i}=_e(),a=ye(),m=Yo(),c=(0,Je.useMemo)(()=>({chainId:o.chainId,fromTokenAddress:o?.tokenContractAddress,toTokenAddress:i?.tokenContractAddress,amount:a,slippage:m}),[a,o.chainId,o?.tokenContractAddress,i?.tokenContractAddress,m]);(0,Je.useEffect)(()=>(t(c),()=>{r()}),[c,t,r])}n();s();var fe=f(h());n();s();function jo(){let{memeConfigStore:e}=d(),{config:t}=e;return t?{...t}:{}}var ar=({inputAmount:e,custom:t,defaultBuyAmountList:r,memeBuyStore:o,setAmountUsed:i,setCustomUsed:a})=>{t==="1"?(o.setSelectBuyValue("custom"),o.setInputBuyValue(""),a(!0),ae("custom")):e?r.includes(e)?(o.setSelectBuyValue(e),i(!0),ae("inputAmount")):o.setSelectBuyValue(r[0]||"0"):o.selectBuyValue==="0"&&o.inputBuyValue===""&&o.setSelectBuyValue(r[0]||"0")},mr=({inputPercent:e,custom:t,defaultSellPercentList:r,memeSellStore:o,setPercentUsed:i,setCustomUsed:a})=>{t==="1"?(o.setIsInputPercent(!0),o.setSelectSellValue("custom"),o.setInputSellValue(""),a(!0),ae("custom")):e?(o.setIsInputPercent(!0),r.includes(e)?(o.setSelectSellValue(e),i(!0),ae("inputPercent")):o.setSelectSellValue(r[0]||"0")):o.selectSellValue==="0"&&o.inputSellValue===""&&o.setSelectSellValue(r[0]||"0")},Wc=()=>{let{queryParams:e,isBuyRoute:t,isSellRoute:r}=x(),{memeBuyStore:o,memeSellStore:i}=d(),{defaultBuyAmountList:a=[],defaultSellPercentList:m=[]}=jo(),c=e?.get?.("inputAmount"),p=e?.get?.("inputPercent"),_=e?.get?.("custom"),[g,y]=(0,fe.useState)(!1),[k,S]=(0,fe.useState)(!1),[T,v]=(0,fe.useState)(!1);(0,fe.useEffect)(()=>{t&&!g&&!T&&ar({inputAmount:c,custom:_,defaultBuyAmountList:a,memeBuyStore:o,setAmountUsed:y,setCustomUsed:v})},[c,_,t,a,g,T]),(0,fe.useEffect)(()=>{r&&!k&&!T&&mr({inputPercent:p,custom:_,defaultSellPercentList:m,memeSellStore:i,setPercentUsed:S,setCustomUsed:v})},[c,p,_,r,m,k,T])};n();s();var et=f(h());var lr=e=>!e?.tokenContractAddress&&e?.tokenContractAddress!=="",cr=(e,t)=>e&&t&&t.price&&t.tokenContractAddress===e?.tokenContractAddress,ur=e=>e.chainId&&e.accountId&&e.userUniqueId&&e.walletId,Xc=(e,t)=>{let[r,o]=(0,et.useState)(null),i=Qe();return(0,et.useEffect)(()=>{async function a(){if(!lr(t)&&!cr(t,e)&&!!ur(i))if(t?.tokenContractAddress){let m=await oo({inputContent:t?.tokenContractAddress,...i});if(m)o(m);else{let c=await ht(i);o(c)}}else{let m=await ht(i);o(m)}}a()},[t?.tokenContractAddress,i.chainId,i.accountId,i.userUniqueId,i.walletId]),r};n();s();var tt=f(h());var pr=({myPosition:e,positionList:t,myPositionUsed:r,setMyPositionUsed:o})=>{if(!r&&e==="1"&&t.length){let i=document.querySelector("#meme-swap-container");i&&setTimeout(()=>{i.scrollTo({top:460,behavior:"smooth"}),o(!0),ae("myPosition")},400)}},tu=()=>{let{queryParams:e}=x(),{memePositionStore:t}=d(),{positionList:r}=t,o=e?.get?.("myPosition"),[i,a]=(0,tt.useState)(!1);(0,tt.useEffect)(()=>{pr({myPosition:o,positionList:r,myPositionUsed:i,setMyPositionUsed:a})},[o,r,i])};n();s();Le();var au=()=>{let{memeConfigStore:e}=d();return ne(e,"config.nativeTokenInfo",null)};n();s();var Ro=f(h());var pu=()=>{let{memeConfigStore:e,memeQuoteStore:t}=d();(0,Ro.useEffect)(()=>{let r=String(e?.config?.priorityFeeMaxValue),{marketFee:o="",fastFee:i="",turboFee:a=""}=t?.computedPriorityFeeInfo||{},m={market:o,fast:i,turbo:a},c={value:t?.priorityFee?.value,type:t?.priorityFee?.type,config:m,max:r};t?.priorityFee?.type!=="custom"&&(c.value=m[t?.priorityFee?.type]),t.setPriorityFee(c)},[e?.config?.priorityFeeMaxValue,t?.computedPriorityFeeInfo])};n();s();var Xo=f(h());var hu=()=>{let{memeConfigStore:e,memeQuoteStore:t}=d();(0,Xo.useEffect)(()=>{let{min:r="",max:o="",slippageList:[i="",a="",m=""]=[]}=e?.config?.slippageConfig||{},c={low:i,medium:a,high:m},p={value:t?.slippage?.value,type:t?.slippage?.type,config:c,min:r,max:o};t?.slippage?.type!=="custom"&&(p.value=c[t?.slippage?.type]),t.setSlippage(p)},[e?.config?.slippageConfig])};n();s();var ot=f(h());var bu=(e,t)=>{let[r,o]=(0,ot.useState)(null),i=Qe(),{chainId:a,accountId:m,userUniqueId:c,walletId:p,userWalletAddress:_,businessType:g}=i;return(0,ot.useEffect)(()=>{async function y(){if(e&&a&&m&&c&&p&&_){let k=await ro({tokenAddress:e,chainId:a,accountId:m,userUniqueId:c,walletId:p,userWalletAddress:_,businessType:g},t);o(k)}}y()},[e,a,m,c,p,_,g]),r};n();s();var rt=f(h()),$o=f(be());var Pu=e=>{let[t,r]=(0,rt.useState)(null),o=(0,$o.useHistory)(),{queryParams:i}=x(),a=i?.get("inputChain"),m=i?.get("inputCurrency"),c=i?.get("outputChain"),p=i?.get("outputCurrency");return(0,rt.useEffect)(()=>{if(!i)return;let k=Ht(i),S=Xt(e);Fe(e,k)?r(k):Fe(e,S)?r(S):r(Rt())},[e==="buy"?c:a,e==="buy"?p:m]),{tokenPair:t,setTokenPair:k=>{Fe(e,k)&&($t(e,k),Zt(o,o.location.pathname,k))}}};export{Nc as a,Wc as b,Xc as c,tu as d,au as e,pu as f,hu as g,bu as h,Pu as i,Mr as j,jr as k,nn as l,_s as m,uo as n,Ia as o,dm as p,vm as q,Pl as r,Hl as s,pc as t,kc as u};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-4XOXEL6F.js.map
