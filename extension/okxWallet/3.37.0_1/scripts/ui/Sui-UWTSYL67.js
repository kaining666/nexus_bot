import{a as z}from"./chunk-X4KVTPM4.js";import{a as j}from"./chunk-YL5N5NXF.js";import{a as X}from"./chunk-XU3F6KQY.js";import{b as V}from"./chunk-LX2IZ663.js";import{a as K,b as U}from"./chunk-2WNLXZON.js";import{a as W}from"./chunk-N4O3LLAF.js";import"./chunk-UKD6YBBS.js";import"./chunk-UGUUG6ML.js";import"./chunk-HZ2WJBGI.js";import"./chunk-LVIROCAQ.js";import"./chunk-YPLQ6VWF.js";import"./chunk-PZK64BR5.js";import"./chunk-HL2M5U7N.js";import{a as Y}from"./chunk-U5Z4GNFS.js";import"./chunk-BKZ6VPJ3.js";import{b as q,k as v}from"./chunk-2KFV5OPB.js";import"./chunk-TW325B3E.js";import{a as D}from"./chunk-ULXBFEFQ.js";import"./chunk-AWJSICVW.js";import{a as F}from"./chunk-QNX3UOA4.js";import"./chunk-5J5HPJFS.js";import"./chunk-4O6B2TSW.js";import"./chunk-EUSYZW2R.js";import"./chunk-AFBCVKXE.js";import"./chunk-MQKFVWSP.js";import"./chunk-VLSOWDRD.js";import{k as b,m as O}from"./chunk-3UTQU6PS.js";import"./chunk-ZQTA27XU.js";import"./chunk-YIQCYGP3.js";import"./chunk-I4BRG34M.js";import"./chunk-HN3RS7KM.js";import"./chunk-4JNVSGED.js";import"./chunk-AR6XF3U7.js";import"./chunk-V5XRXBAE.js";import"./chunk-ULBHEX2Q.js";import"./chunk-LYNGOC3B.js";import"./chunk-XS7NMQVU.js";import"./chunk-L7FDIAMD.js";import"./chunk-TXEBE5YY.js";import{d as N}from"./chunk-77F6B6US.js";import"./chunk-LLMO6UHT.js";import"./chunk-TGE2FOSE.js";import"./chunk-RCQMEJEP.js";import"./chunk-WTBIP24L.js";import"./chunk-HWYDZOOB.js";import"./chunk-SKYCSHSI.js";import"./chunk-TCSX4HQQ.js";import"./chunk-6H3Y45OD.js";import"./chunk-KALOGAGR.js";import"./chunk-E5Q7T5U3.js";import"./chunk-GOUDWO5Q.js";import"./chunk-3UYPUTX6.js";import"./chunk-DXILVGXO.js";import"./chunk-U65S63W6.js";import"./chunk-DKAHQZW7.js";import"./chunk-OB7EIG6I.js";import"./chunk-CBYWE4ZS.js";import"./chunk-YNP5EQNA.js";import"./chunk-TGTCJHHS.js";import"./chunk-PQ3PMTLX.js";import"./chunk-AHWM6USP.js";import"./chunk-DFIMOBBJ.js";import"./chunk-RD5QD7MH.js";import"./chunk-6IJDRLPZ.js";import"./chunk-PO23PKFU.js";import"./chunk-HVTJXLNW.js";import"./chunk-ESXBSF3B.js";import"./chunk-PNY3TA7V.js";import"./chunk-4AVGLJGA.js";import"./chunk-TQ3GWPOH.js";import"./chunk-PYZXP3W4.js";import"./chunk-QDNQKTGP.js";import"./chunk-3QF6VHEM.js";import"./chunk-BDM2VHZE.js";import"./chunk-64SQYTOJ.js";import"./chunk-FYP53U2P.js";import"./chunk-Z4OLA6VU.js";import"./chunk-5O3SURTC.js";import"./chunk-NMBDO6HS.js";import"./chunk-55MCSU6E.js";import"./chunk-OPNT5XFL.js";import"./chunk-MDLQ46WE.js";import"./chunk-FQEN5BEF.js";import"./chunk-KRXFQR7K.js";import"./chunk-CE23KTLV.js";import"./chunk-ZL32ASCM.js";import"./chunk-3TUBCZ6Z.js";import"./chunk-5RWJB7PM.js";import"./chunk-UOK5DCVS.js";import"./chunk-O4AMPUEN.js";import"./chunk-AACZ2HW4.js";import"./chunk-M2U4YLEL.js";import"./chunk-ZBGU2467.js";import"./chunk-DD3BDKUM.js";import"./chunk-TYUTKD3A.js";import"./chunk-ENPA2E7U.js";import{$ as P,K as _,_ as C}from"./chunk-WOHVJ5VI.js";import"./chunk-HXEPH4TB.js";import"./chunk-F7IOPQEO.js";import"./chunk-QBSBGD35.js";import"./chunk-GFKCYZVW.js";import"./chunk-CHLBHCPL.js";import"./chunk-NC7RXVWZ.js";import"./chunk-DM24NLHH.js";import"./chunk-PTVNLPKV.js";import"./chunk-JFKXAMRK.js";import"./chunk-V2SICOMY.js";import"./chunk-Z6Y7MSRE.js";import"./chunk-FVQK2MNN.js";import"./chunk-5Z5B37ND.js";import{Fa as h,Ob as k,Xa as se,fc as ne}from"./chunk-QWQGBYOY.js";import"./chunk-BUAMOL6H.js";import"./chunk-PLHFXPVU.js";import{K as B,pa as re}from"./chunk-5BQQ5BTM.js";import{N as oe,w as L}from"./chunk-4IQZG47E.js";import"./chunk-AJ3QZWYK.js";import"./chunk-4USCG7JU.js";import"./chunk-4LMFCZAJ.js";import"./chunk-GBWBODBO.js";import"./chunk-X62Q7VCJ.js";import"./chunk-X7RY3AWM.js";import{a as I}from"./chunk-WQYVBC56.js";import"./chunk-MX777P4Z.js";import"./chunk-GW6IXZ75.js";import"./chunk-LSOIOGAP.js";import"./chunk-54ZU3WOZ.js";import"./chunk-E4IUBLG2.js";import"./chunk-GMY3CGN4.js";import"./chunk-J52BXABX.js";import"./chunk-FBMAZNAP.js";import"./chunk-H3AZE3V6.js";import"./chunk-7PMBWAQJ.js";import"./chunk-Z37CYTXG.js";import"./chunk-ADNFNM5R.js";import"./chunk-ZP73ZDSP.js";import"./chunk-W3TSI3ZZ.js";import"./chunk-JSF2EI74.js";import"./chunk-56JXL4SQ.js";import"./chunk-METSMHFB.js";import{f as A,m as i,o as a}from"./chunk-CS4SUKWE.js";i();a();var w=A(I());i();a();var y=A(I());se();i();a();re();oe();i();a();var E=A(I());var H=(e,t)=>{let{from:l,transaction:o,provider:m}=e,[x,c]=(0,E.useState)(!1),[n,r]=(0,E.useState)(null),[d,u]=(0,E.useState)(!1),[f,S]=(0,E.useState)("");return(0,E.useEffect)(()=>{(async()=>{if(!!o){c(!0);try{let s=v.from(o);s.setSenderIfNotSet(l);let p="";m&&(p=q(await s.build({client:m}))),t&&await t(p),r({fee:s?.blockData?.gasConfig?.budget||"0",tx:s,txBytes:p}),u(!1),S("")}catch(s){u(!0),S(s?.message||"")}finally{c(!1)}}})()},[o]),{loading:x,error:d,errorMsg:f,result:n}};ne();var ie=({coinId:e,unapproved:t,preExecuteRet:l})=>{let o=F(t),{address:m,walletId:x}=o,{verifyGasLimitRet:c}=l,n=D(e,x)||{},{coinAmountInt:r}=n,{loading:d,result:u={},error:f,errorMsg:S}=H({from:m,transaction:t?.params?.transaction,provider:X}),g=u?.fee,s=(B(r)||k(r,g))&&!b(c),p=B(r)||k(r,0),G={coinId:e,loading:d,estimateFailed:f,networkFee:g},R;return f&&S&&(R=L("wallet_extension_alert_estimate_unavailable_error",{errorMsg:S})),{loading:d,networkFee:u,networkFeeProps:G,isSufficientGas:s,estimateFailed:f,estimateFailedMsg:R,isSufficientBalance:p,coinWithBalance:n}},J=ie;i();a();var T=A(I());var ae=({coinId:e,unapproved:t})=>{let l=O(),[o,m]=(0,T.useState)(!0),{host:x}=Y(t),{address:c}=F(t),[n,r]=(0,T.useState)({}),d=(0,T.useMemo)(()=>({checkTypes:[C.VERIFY_GAS_LIMIT,C.KYS],coinId:e,from:c,to:"",amount:0,txType:P.CALL_CONTRACT,domain:x}),[c,e]),u=async(g,s)=>{let p=await l({...d,chainId:s,inputData:g});r(p),m(!1)},f=(0,T.useMemo)(()=>n[C.VERIFY_GAS_LIMIT]||{},[n]);return{kysRet:(0,T.useMemo)(()=>({loading:o,...n[C.KYS]||{}}),[o,n]),loading:o,preExecuteRet:n,firePreExecute:u,verifyGasLimitRet:f}},Q=ae;var ce=(0,y.memo)(({unapproved:e})=>{let t=N(h)||{},l=t?.coinId||h,o=t?.chainIndex||t?.chainId||"",m=Q({unapproved:e,coinId:l}),{firePreExecute:x,kysRet:c,verifyGasLimitRet:n}=m,{networkFee:r,networkFeeProps:d,isSufficientGas:u,estimateFailed:f,estimateFailedMsg:S,loading:g,isSufficientBalance:s,coinWithBalance:p}=J({coinId:l,unapproved:e,preExecuteRet:m});(0,y.useEffect)(()=>{r?.txBytes&&o&&x(r?.txBytes,o)},[r?.txBytes,o]);let G=K({kysRet:c,baseCoin:t,estimateFailed:f,estimateFailedMsg:S,isSufficientGas:u,verifyGasLimitRet:n,isSufficientBalance:s,coinWithBalance:p}),{buttonGroup:R,handleCancel:te}=V({coinId:l,unapproved:e,feeLoading:g,preExecuteRet:m,estimateFailed:f,isSufficientGas:u,isSufficientBalance:s,extParams:{txBytes:r?.txBytes,fee:r?.fee},coinWithBalance:p});return W({kysRet:c,handleCancel:te}),y.default.createElement(U,{kysRet:c,unapproved:e,tipMessage:G,buttonGroup:R,networkFee:d})}),Z=ce;i();a();var $=A(I());function me(e=""){try{return new TextDecoder().decode(e)}catch{return e.toString()}}var ee=({unapproved:e})=>{let t=me(z(e.params?.message));return $.default.createElement(j,{message:t,unapproved:e})};var Ze=({unapproved:e})=>{switch(e.method){case _.SIGN_AND_EXECUTE_TRANSACTION_BLOCK:case _.SIGN_TRANSACTION_BLOCK:return w.default.createElement(Z,{unapproved:e});case _.SIGN_MESSAGE:case _.SIGN_PERSONAL_MESSAGE:return w.default.createElement(ee,{unapproved:e});default:return""}};export{Ze as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Sui-UWTSYL67.js.map
